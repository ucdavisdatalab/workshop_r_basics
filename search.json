[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R Basics",
    "section": "",
    "text": "Overview\nThis 4-part workshop series provides an introduction to using the R programming language for reproducible data analysis and scientific computing. Topics include programming basics, how to work with tabular data, how to break down programming problems, and how to organize code for clarity and reproducibility.\nAfter this workshop, learners will be able to load tabular data sets into R, compute simple summaries and visualizations, do common data-tidying tasks, write reusable functions, and identify where to go to learn more.\nNo prior programming experience is necessary. All learners will need access to an internet-connected computer and the latest version of Zoom, R, and RStudio.",
    "crumbs": [
      "Overview"
    ]
  },
  {
    "objectID": "chapters/01_getting-started.html",
    "href": "chapters/01_getting-started.html",
    "title": "1  Getting Started",
    "section": "",
    "text": "1.1 Prerequisites\nR is a program for statistical computing. It provides a rich set of built-in tools for cleaning, exploring, modeling, and visualizing data.\nThe main way you’ll interact with R is by writing code or expressions in the R programming language. Most people use “R” as a blanket term to refer to both the program and the programming language. Usually, the distinction doesn’t matter, but in cases where it does, we’ll point it out and be specific.\nBy writing code, you create an unambiguous record of every step taken in an analysis. This it one of the major advantages of R (and other programming languages) over point-and-click software like Tableau and Microsoft Excel. Code you write in R is reproducible: you can share it with someone else, and if they run it with the same inputs, they’ll get the same results.\nAnother advantage of writing code is that it’s often reusable. This can mean automating a repetitive task within a single analysis, recycling code from one analysis into another, or packaging useful code for distribution to the general public. At the time of writing, there were over 17,000 user-contributed packages available for R, spanning a broad range of disciplines.\nR is one of many programming languages used in data science. Compared to other programming languages, R’s particular strengths are its interactivity, built-in support for handling missing data, the ease with which you can produce high-quality data visualizations, and its broad base of user-contributed packages (due to both its age and growing popularity).\nYou can download R for free here, and can find an install guide here.\nIn addition to R, you’ll need RStudio. RStudio is an integrated development environment (IDE), which means it’s a comprehensive program for writing, editing, searching, and running code. You can do all of these things without RStudio, but RStudio makes the process easier. You can download RStudio Desktop Open-Source Edition for free here, and can find an install guide here.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "chapters/01_getting-started.html#the-r-interface",
    "href": "chapters/01_getting-started.html#the-r-interface",
    "title": "1  Getting Started",
    "section": "1.2 The R Interface",
    "text": "1.2 The R Interface\nThe first time you open RStudio, you’ll see a window divided into several panes, like this:\n\n\n\nHow RStudio typically looks the first time you open it. Don’t worry if the text in the panes isn’t exactly the same on your computer: it depends on your operating system and versions of R and RStudio.\n\n\nThe console pane, on the left, is the main interface to R. If you type R code into the console and press the Enter key on your keyboard, R will run your code and return the result.\nOn the right are the environment pane and the plots pane. The environment pane shows data in your R workspace. The plots pane shows any plots you make, and also has tabs to browse your file system and to view R’s built-in help files. You’ll learn more about these gradually, but for now, focus on the console pane.\nLet’s start by using R to do some arithmetic. In the console, you’ll see that the cursor is on a line that begins with &gt;, called the prompt. You can make R compute the sum \\(2 + 2\\) by typing the code 2 + 2 after the prompt and then pressing the Enter key. Your code and the result from R should look like this:\n\nR always puts the result on a separate line (or lines) from your code. In this case, the result begins with the tag [1], which is a hint from R that the result is a vector and that this line starts with the element at position 1. You’ll learn more about vectors in Section 2.1, and eventually learn about other data types that are displayed differently. The result of the sum, 4, is displayed after the tag. In this reader, results from R will usually be typeset in monospace and further prefixed with ## to indicate that they aren’t code.\nIf you enter an incomplete expression, R will change the prompt to +, then wait for you to type the rest of the expression and press the Enter key. Here’s what it looks like if you only enter 2 +:\n\nYou can finish entering the expression, or you can cancel it by pressing the Esc key (or Ctrl-c if you’re using R without RStudio). R can only tell an expression is incomplete if it’s missing something, like the second operand in 2 +. So if you mean to enter 2 + 2 but accidentally enter 2, which is a complete expression by itself, don’t expect R to read your mind and wait for more input!\nTry out some other arithmetic in the R console. Besides + for addition, the other arithmetic operators are:\n\n- for subtraction\n* for multiplication\n/ for division\n%% for remainder division (modulo)\n^ or ** for exponentiation\n\nYou can combine these and use parentheses to make more complicated expressions, just as you would when writing a mathematical expression. When R computes a result, it follows the standard order of operations: parentheses, exponentiation, multiplication, division, addition, and finally subtraction. For example, to estimate the area of a circle with radius 3, you can write:\n\n3.14 * 3^2\n\n[1] 28.26\n\n\nYou can write R expressions with any number of spaces (including none) around the operators and R will still compute the result. Nevertheless, putting spaces in your code makes it easier for you and others to read, so it’s good to make it a habit. Put spaces around most operators, after commas, and after keywords.\n\n1.2.1 Variables\nSince R is designed for mathematics and statistics, you might expect that it provides a better appoximation for \\(\\pi\\) than 3.14. R and most other programming languages allow you to create named values, or variables. R provides a built-in variable called pi for the value of \\(\\pi\\). You can display a variable’s value by entering its name in the console:\n\npi\n\n[1] 3.141593\n\n\nYou can also use variables in expressions. For instance, here’s a more precise expression for the area of a circle with radius 3:\n\npi * 3^2\n\n[1] 28.27433\n\n\nYou can define your own variables with the assignment operator = or &lt;-. In most circumstances these two operators are interchangeable. For clarity, it’s best to choose one you like and use it consistently in all of your R code. In this reader, we use = for assignment because this is the assignment operator in most programming languages.\nThe main reason to use variables is to save results so that you can use them on other expressions later. For example, to save the area of the circle in a variable called area, you can write:\n\narea = pi * 3^2\n\nIn R, variable names can contain any combination of letters, numbers, dots ., and underscores _, but must always start with a letter or a dot. Spaces and other symbols are not allowed in variable names.\nNow you can use the area variable anywhere you want the computed area. Notice that when you assign a result to a variable, R doesn’t automatically display that result. If you want to see the result as well, you have to enter the variable’s name as a separate expression:\n\narea\n\n[1] 28.27433\n\n\nAnother reason to use variables is to make an expression more general. For instance, you might want to compute the area of several circles with different radii. Then the expression pi * 3^2 is too specific. You can rewrite it as pi * r^2, and then assign a value to the variable r just before you compute the area. Here’s the code to compute and display the area of a circle with radius 1 this way:\n\nr = 1\narea = pi * r^2\narea\n\n[1] 3.141593\n\n\nNow if you want to compute the area for a different radius, all you have to do is change r and run the code again (R will not change area until you do this). Writing code that’s general enough to reuse across multiple problems can be a big time-saver in the long run. Later on, you’ll learn ways to make this code even easier to reuse.\n\n\n1.2.2 Strings\nR treats anything inside single or double quotes as literal text rather than as an expression to evaluate. In programming jargon, a piece of literal text is called a string. You can use whichever kind of quotes you prefer, but the quote at the beginning of the string must match the quote at the end.\n\n'Hi'\n\n[1] \"Hi\"\n\n\"Hello!\"\n\n[1] \"Hello!\"\n\n\nNumbers and strings are not the same thing, so for example R considers 1 different from \"1\". As a result, you can’t use strings with most of R’s arithmetic operators. For instance, this code causes an error:\n\n\"1\" + 3\n\nError in \"1\" + 3: non-numeric argument to binary operator\n\n\nThe error message notes that + is not defined for non-numeric values.\n\n\n1.2.3 Comparisons\nBesides arithmetic, you can also use R to compare values. The comparison operators are:\n\n&lt; for “less than”\n&gt; for “greater than”\n&lt;= for “less than or equal to”\n&gt;= for “greater than or equal to”\n== for “equal to”\n!= for “not equal to”\n\nThe “equal to” operator uses two equal signs so that R can distinguish it from =, the assignment operator.\nLet’s look at a few examples:\n\n1.5 &lt; 3\n\n[1] TRUE\n\n\"a\" &gt; \"b\"\n\n[1] FALSE\n\npi == 3.14\n\n[1] FALSE\n\n\"hi\" == 'hi'\n\n[1] TRUE\n\n\nWhen you make a comparison, R returns a logical value, TRUE or FALSE, to indicate the result. Logical values are not the same as strings, so they are not quoted.\nLogical values are values, so you can use them in other computations. For example:\n\nTRUE\n\n[1] TRUE\n\nTRUE == FALSE\n\n[1] FALSE\n\n\nSection 2.4.5 describes more ways to use and combine logical values.\nBeware that the equality operators don’t always return FALSE when you compare two different types of data:\n\n\"1\" == 1\n\n[1] TRUE\n\n\"TRUE\" &lt;= TRUE\n\n[1] TRUE\n\n\"FALSE\" &lt;= TRUE\n\n[1] TRUE\n\n\nSection 2.2.2 explains why this happens, and Section 5.1 explains several other ways to compare values.\n\n\n1.2.4 Calling Functions\nMost of R’s features are provided through functions, pieces of reusable code. You can think of a function as a machine that takes some inputs and uses them to produce some output. In programming jargon, the inputs to a function are called arguments, the output is called the return value, and when you use a function, you’re calling the function.\nTo call a function, write its name followed by parentheses. Put any arguments to the function inside the parentheses. For example, in R, the sine function is named sin (there are also cos and tan). So you can compute the sine of \\(\\pi / 4\\) with this code:\n\nsin(pi / 4)\n\n[1] 0.7071068\n\n\nThere are many functions that accept more than one argument. For instance, the sum function accepts any number of arguments and adds them all together. When you call a function with multiple arguments, separate the arguments with commas. So another way to compute \\(2 + 2\\) in R is:\n\nsum(2, 2)\n\n[1] 4\n\n\nWhen you call a function, R assigns each argument to a parameter. Parameters are special variables that represent the inputs to a function and only exist while that function runs. For example, the log function, which computes a logarithm, has parameters x and base for the operand and base of the logarithm, respectively. The next section, Section 1.3, explains how to look up the parameters for a function.\nBy default, R assigns arguments to parameters based on their order. The first argument is assigned to the function’s first parameter, the second to the second, and so on. So you can compute the logarithm of 64, base 2, with this code:\n\nlog(64, 2)\n\n[1] 6\n\n\nThe argument 64 is assigned to the parameter x, and the argument 2 is assigned to the parameter base. You can also assign arguments to parameters by name with = (not &lt;-), overriding their positions. So some other ways you could write the call above are:\n\nlog(64, base = 2)\n\n[1] 6\n\nlog(x = 64, base = 2)\n\n[1] 6\n\nlog(base = 2, x = 64)\n\n[1] 6\n\nlog(base = 2, 64)\n\n[1] 6\n\n\nAll of these are equivalent. When you write code, choose whatever seems the clearest to you. Leaving parameter names out of calls saves typing, but including some or all of them can make the code easier to understand.\nParameters are not regular variables, and only exist while their associated function runs. You can’t set them before a call, nor can you access them after a call. So this code causes an error:\n\nx = 64\nlog(base = 2)\n\nError in eval(expr, envir, enclos): argument \"x\" is missing, with no default\n\n\nIn the error message, R says that you forgot to assign an argument to the parameter x. You can keep the variable x and correct the call by making x an argument (for the parameter x):\n\nlog(x, base = 2)\n\n[1] 6\n\n\nOr, written more explicitly:\n\nlog(x = x, base = 2)\n\n[1] 6\n\n\nIn summary, variables and parameters are distinct, even if they happen to have the same name. The variable x is not the same thing as the parameter x.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "chapters/01_getting-started.html#sec-getting-help",
    "href": "chapters/01_getting-started.html#sec-getting-help",
    "title": "1  Getting Started",
    "section": "1.3 Getting Help",
    "text": "1.3 Getting Help\nLearning and using a language is hard, so it’s important to know how to get help. The first place to look for help is R’s built-in documentation. In the console, you can access a specific help page by name with ? followed by the name of the page.\nThere are help pages for all of R’s built-in functions, usually with the same name as the function itself. So the code to open the help page for the log function is:\n\n?log\n\nFor functions, help pages usually include a brief description, a list of parameters, a description of the return value, and some examples.\nThere are also help pages for other topics, such as built-in mathematical constants (such as ?pi), data sets (such as ?iris), and operators. To look up the help page for an operator, put the operator’s name in single or double quotes. For example, this code opens the help page for the arithmetic operators:\n\n?\"+\"\n\nIt’s always okay to put quotes around the name of the page when you use ?, but they’re only required if it contains non-alphabetic characters. So ?sqrt, ?'sqrt', and ?\"sqrt\" all open the documentation for sqrt, the square root function.\nSometimes you might not know the name of the help page you want to look up. You can do a general search of R’s help pages with ?? followed by a string of search terms. For example, to get a list of all help pages related to linear models:\n\n??\"linear model\"\n\nThis search function doesn’t always work well, and it’s often more efficient to use an online search engine. When you search for help with R online, include “R” as a search term. Alternatively, you can use RSeek, which restricts the search to a selection of R-related websites.\n\n1.3.1 When Something Goes Wrong\nAs a programmer, sooner or later you’ll run some code and get an error message or result you didn’t expect. Don’t panic! Even experienced programmers make mistakes regularly, so learning how to diagnose and fix problems is vital.\nTry going through these steps:\n\nIf R returned a warning or error message, read it! If you’re not sure what the message means, try searching for it online.\nCheck your code for typographical errors, including incorrect capitalization and missing or extra commas, quotes, and parentheses.\nTest your code one line at a time, starting from the beginning. After each line that assigns a variable, check that the value of the variable is what you expect. Try to determine the exact line where the problem originates (which may differ from the line that emits an error!).\n\nIf none of these steps help, try asking online. Stack Overflow is a popular question and answer website for programmers. Before posting, make sure to read about how to ask a good question.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "chapters/01_getting-started.html#file-systems",
    "href": "chapters/01_getting-started.html#file-systems",
    "title": "1  Getting Started",
    "section": "1.4 File Systems",
    "text": "1.4 File Systems\nMost of the time, you won’t just write code directly into the R console. Reproducibility and reusability are important benefits of R over point-and-click software, and in order to realize these, you have to save your code to your computer’s hard drive. Let’s start by reviewing how files on a computer work. You’ll need to understand that before you can save your code, and it will also be important later on for loading data sets.\nYour computer’s file system is a collection of files (chunks of data) and directories (or “folders”) that organize those files. For instance, the file system on a computer shared by Ada and Charles, two pioneers of computing, might look like this:\n\n\n\nA typical file system. Don’t worry if your file system looks a bit different from the picture.\n\n\nFile systems have a tree-like structure, with a top-level directory called the root directory. On Ada and Charles’ computer, the root is called /, which is also what it’s called on all macOS and Linux computers. On Windows, the root is usually called C:/, but sometimes other letters, like D:/, are also used depending on the computer’s hardware.\nA path is a list of directories that leads to a specific file or directory on a file system (imagine giving directons to someone as they walk through the file system). Use forward slashes / to separate the directories in a path. The root directory includes a forward slash as part of its name, and doesn’t need an extra one.\nFor example, suppose Ada wants to write a path to the file cats.csv. She can write the path like this:\n/Users/ada/cats.csv\nYou can read this path from left-to-right as, “Starting from the root directory, go to the Users directory, then from there go to the ada directory, and from there go to the file cats.csv.” Alternatively, you can read the path from right-to-left as, “The file cats.csv inside of the ada directory, which is inside of the Users directory, which is in the root directory.”\nAs another example, suppose Charles wants a path to the Programs directory. He can write:\n/Programs/\nThe / at the end of this path is reminder that Programs is a directory, not a file. Charles could also write the path like this:\n/Programs\nThis is still correct, but it’s not as obvious that Programs is a directory. In other words, when a path leads to a directory, including a trailing slash is optional, but makes the meaning of the path clearer. Paths that lead to files never have a trailing slash.\nOn Windows computers, paths are usually written with backslashes \\ to separate directories instead of forward slashes. Fortunately, R uses forward slashes / for all paths, regardless of the operating system. So when you’re working in R, use forward slashes and don’t worry about the operating system. This is especially convenient when you want to share code with someone that uses a different operating system than you.\n\n1.4.1 Absolute & Relative Paths\nA path that starts from the root directory, like all of the ones you’ve seen so far, is called an absolute path. The path is “absolute” because it unambiguously describes where a file or directory is located. The downside is that absolute paths usually don’t work well if you share your code.\nFor example, suppose Ada uses the path /Programs/ada/cats.csv to load the cats.csv file in her code. If she shares her code with another pioneer of computing, say Gladys, who also has a copy of cats.csv, it might not work. Even though Gladys has the file, she might not have it in a directory called ada, and might not even have a directory called ada on her computer. Because Ada used an absolute path, her code works on her own computer, but isn’t portable to others.\nOn the other hand, a relative path is one that doesn’t start from the root directory. The path is “relative” to an unspecified starting point, which usually depends on the context.\nFor instance, suppose Ada’s code is saved in the file analysis.R (more about .R files in Section 1.4.2), which is in the same directory as cats.csv on her computer. Then instead of an absolute path, she can use a relative path in her code:\ncats.csv\nThe context is the location of analysis.R, the file that contains the code. In other words, the starting point on Ada’s computer is the ada directory. On other computers, the starting point will be different, depending on where the code is stored.\nNow suppose Ada sends her corrected code in analysis.R to Gladys, and tells Gladys to put it in the same directory as cats.csv. Since the path cats.csv is relative, the code will still work on Gladys’ computer, as long as the two files are in the same directory. The name of that directory and its location in the file system don’t matter, and don’t have to be the same as on Ada’s computer. Gladys can put the files in a directory /Users/gladys/from_ada/ and the path (and code) will still work.\nRelative paths can include directories. For example, suppose that Charles wants to write a relative path from the Users directory to a cool selfie he took. Then he can write:\ncharles/cool_hair_selfie.jpg\nYou can read this path as, “Starting from wherever you are, go to the charles directory, and from there go to the cool_hair_selfie.jpg file.” In other words, the relative path depends on the context of the code or program that uses it.\nWhen use you paths in R code, they should almost always be relative paths. This ensures that the code is portable to other computers, which is an important aspect of reproducibility. Another benefit is that relative paths tend to be shorter, making your code easier to read (and write).\nWhen you write paths, there are three shortcuts you can use. These are most useful in relative paths, but also work in absolute paths:\n\n. means the current directory.\n.. means the directory above the current directory.\n~ means the home directory. Each user has their own home directory, whose location depends on the operating system and their username. Home directories are typically found inside C:/Users/ on Windows, /Users/ on macOS, and /home/ on Linux.\n\nAs an example, suppose Ada wants to write a (relative) path from the ada directory to Charles’ cool selfie. Using these shorcuts, she can write:\n../charles/cool_hair_selfie.jpg\nRead this as, “Starting from wherever you are, go up one directory, then go to the charles directory, and then go to the cool_hair_selfie.jpg file.” Since /Users/ada is Ada’s home directory, she could also write the path as:\n~/../charles/cool_hair_selfie.jpg\nThis path has the same effect, but the meaning is slightly different. You can read it as “Starting from your home directory, go up one directory, then go to the charles directory, and then go to the cool_hair_selfie.jpg file.”\nThe .. and ~ shortcut are frequently used and worth remembering. The . shortcut is included here in case you see it in someone else’s code. Since it means the current directory, a path like ./cats.csv is identical to cats.csv, and the latter is preferable for being simpler. There are a few specific situations where . is necessary, but they fall outside the scope of this text.\n\n\n1.4.2 R Scripts\nNow that you know how file systems and paths work, you’re ready to learn how to save your R code to a file. R code is usually saved into an R script (extension .R) or an R Markdown file (extension .Rmd). R scripts are slightly simpler, so let’s focus on those.\nIn RStudio, you can create a new R script with this menu option:\nFile -&gt; New File -&gt; R Script\nThis will open a new pane in RStudio, like this:\n\n\n\nHow RStudio typically looks after opening a new R Script.\n\n\nThe new pane is the scripts pane, which displays all of the R scripts you’re editing. Each script appears in a separate tab. In the screenshot, only one script, the new script, is open.\nEditing a script is similar to editing any other text document. You can write, delete, copy, cut, and paste text. You can also save the file to your computer’s file system. When you do, pay attention to where you save the file, as you might need it later.\nThe contents of an R script should be R code. Anything else you want to write in the script (notes, documentation, etc.) should be in a comment. In R, comments begin with # and extend to the end of the line:\n\n# This is a comment.\n\nR will ignore comments when you run your code.\nWhen you start a new project, it’s a good idea to create a specific directory for all of the project’s files. If you’re using R, you should also create one or more R scripts in that directory. As you work, write your code directly into a script. Arrange your code in the order of the steps to solve the problem, even if you write some parts before others. Comment out or delete any lines of code that you try but ultimately decide you don’t need. Make sure to save the file periodically so that you don’t lose your work. Following these guidelines will help you stay organized and make it easier to share your code with others later.\nWhile editing, you can run the current line in the R console by pressing Ctrl+Enter on Windows and Linux, or Cmd+Enter on macOS. This way you can test and correct your code as you write it.\nIf you want, you can instead run (or source) the entire R script, by calling the source function with the path to the script as an argument. This is also what the “Source on Save” check box refers to in RStudio. The code runs in order, only stopping if an error occurs.\nFor instance, if you save the script as my_cool_script.R, then you can run source(\"my_cool_script.R\") in the console to run the entire script (pay attention to the path—it may be different on your computer).\nR Markdown files are an alternative format for storing R code. They provide a richer set of formatting options, and are usually a better choice than R scripts if you’re writing a report that contains code. You can learn more about R Markdown files here.\n\n\n1.4.3 The Working Directory\nSection 1.4.1 explained that relative paths have a starting point that depends on the context where the path is used. Let’s make that idea more concrete for R. The working directory is the starting point R uses for relative paths. Think of the working directory as the directory R is currently “at” or watching.\nThe function getwd returns the absolute path for the current working directory, as a string. It doesn’t require any arguments:\n\ngetwd()\n\n[1] \"/home/nick/mill/datalab/teaching/r_basics\"\n\n\nOn your computer, the output from getwd will likely be different. This is a very useful function for getting your bearings when you write relative paths. If you write a relative path and it doesn’t work as expected, the first thing to do is check the working directory.\nThe related setwd function changes the working directory. It takes one argument: a path to the new working directory. Here’s an example:\n\nsetwd(\"..\")\n\n# Now check the working directory.\ngetwd()\n\nGenerally, you should avoid using calls to setwd in your R scripts and R Markdown files. Calling setwd makes your code more difficult to understand, and can always be avoided by using appropriate relative paths. If you call setwd with an absolute path, it also makes your code less portable to other computers. It’s fine to use setwd interactively (in the R console), but avoid making your saved code dependent on it.\nAnother function that’s useful for dealing with the working directory and file system is list.files. The list.files function returns the names of all of the files and directories inside of a directory. It accepts a path to a directory as an argument, or assumes the working directory if you don’t pass a path. For instance:\n\n# List files and directories in /home/.\nlist.files(\"/home/\")\n\n[1] \"lost+found\" \"nick\"      \n\n# List files and directories in the working directory.\nlist.files()\n\n [1] \"_freeze\"     \"_quarto.yml\" \"assessment\"  \"chapters\"    \"cover.png\"  \n [6] \"data\"        \"docs\"        \"images\"      \"index.html\"  \"index.qmd\"  \n[11] \"LICENSE\"     \"notes\"       \"R\"           \"raw\"         \"README.md\"  \n[16] \"site_libs\"  \n\n\nAs usual, since you have a different computer, you’re likely to see different output if you run this code. If you call list.files with an invalid path or an empty directory, the output is character(0):\n\nlist.files(\"/this/path/is/fake/\")\n\ncharacter(0)\n\n\nLater on, you’ll learn about what character(0) means more generally.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "chapters/01_getting-started.html#reading-files",
    "href": "chapters/01_getting-started.html#reading-files",
    "title": "1  Getting Started",
    "section": "1.5 Reading Files",
    "text": "1.5 Reading Files\nAnalyzing data sets is one of the most common things to do in R. The first step is to get R to read your data. Data sets come in a variety of file formats, and you need to identify the format in order to tell R how to read the data.\nMost of the time, you can guess the format of a file by looking at its extension, the characters (usually three) after the last dot . in the filename. For example, the extension .jpg or .jpeg indicates a JPEG image file. Some operating systems hide extensions by default, but you can find instructions to change this setting online by searching for “show file extensions” and your operating system’s name. The extension is just part of the file’s name, so it should be taken as a hint about the file’s format rather than a guarantee.\nR has built-in functions for reading a variety of formats. The R community also provides packages, shareable and reusable pieces of code, to read even more formats. You’ll learn more about packages later, in Section 3.2. For now, let’s focus on data sets that can be read with R’s built-in functions.\nHere are several formats that are frequently used to distribute data, along with the name of a built-in function or contributed package that can read the format:\n\n\n\nName\nExtension\nFunction or Package\nTabular?\nText?\n\n\n\n\nComma-separated Values\n.csv\nread.csv\nYes\nYes\n\n\nTab-separated Values\n.tsv\nread.delim\nYes\nYes\n\n\nFixed-width File\n.fwf\nread.fwf\nYes\nYes\n\n\nMicrosoft Excel\n.xlsx\nreadr package\nYes\nNo\n\n\nMicrosoft Excel 1993-2007\n.xls\nreadr package\nYes\nNo\n\n\nApache Arrow\n.feather\narrow package\nYes\nNo\n\n\nR Data\n.rds\nreadRDS\nSometimes\nNo\n\n\nR Data\n.rda\nload\nSometimes\nNo\n\n\nPlaintext\n.txt\nreadLines\nSometimes\nYes\n\n\nExtensible Markup Language\n.xml\nxml2 package\nNo\nYes\n\n\nJavaScript Object Notation\n.json\njsonlite package\nNo\nYes\n\n\n\nA tabular data set is one that’s structured as a table, with rows and columns. This reader focuses on tabular data sets, since they’re common in practice and present the fewest programming challenges. Here’s an example of a tabular data set:\n\n\n\nFruit\nQuantity\nPrice\n\n\n\n\napple\n32\n1.49\n\n\nbanana\n541\n0.79\n\n\npear\n10\n1.99\n\n\n\nA text file is a file that contains human-readable lines of text. You can check this by opening the file with a text editor such as Microsoft Notepad or macOS TextEdit. Many file formats use text in order to make the format easier to work with.\nFor instance, a comma-separated values (CSV) file records a tabular data using one line per row, with commas separating columns. If you store the table above in a CSV file and open the file in a text editor, here’s what you’ll see:\nFruit,Quantity,Price\napple,32,1.49\nbanana,541,0.79\npear,10,1.99\nA binary file is one that’s not human-readable. You can’t just read off the data if you open a binary file in a text editor, but they have a number of other advantages. Compared to text files, binary files are often faster to read and take up less storage space (bytes).\nAs an example, R’s built-in binary format is called RDS (which may stand for “R data serialized”). RDS files are extremely useful for backing up work, since they can store any kind of R object, even ones that are not tabular. You can learn more about how to create an RDS file on the ?saveRDS help page, and how to read one on the ?readRDS help page.\n\n1.5.1 Hello, Data!\nLet’s read our first data set! Over the next few sections, you’re going to explore a data set about the people who are depicted on banknotes (paper money) from around the world. Click here to download the data set (you’ll need to click the “Download raw file” button).\nThe banknotes data set is derived from one created by The Pudding, a digital publication that makes awesome stories and visualizations with data. Check out their article about banknotes around the world.\nThe data set is in a file called banknotes.csv, which suggests it’s a CSV file. In this case, the extension is correct, so you can read the file into R with the built-in read.csv function. The first argument is the path to where you saved the file, which may be different on your computer. The read.csv function returns the data set, but R won’t keep the data in memory unless you assign the returned result to a variable:\n\nbanknotes = read.csv(\"data/banknotes.csv\")\n\nThe variable name banknotes here is arbitrary; you can choose something different if you want. However, in general, it’s a good habit to choose variable names that describe the contents of the variable somehow.\nIf you tried running the line of code above and got an error message, pay attention to what the error message says, and remember the strategies to get help in Section 1.3. The most common mistake when reading a file is incorrectly specifying the path, so first check that you got the path right.\nIf you ran the line of code and there was no error message, congratulations, you’ve read your first data set into R!",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "chapters/01_getting-started.html#sec-data-frames",
    "href": "chapters/01_getting-started.html#sec-data-frames",
    "title": "1  Getting Started",
    "section": "1.6 Data Frames",
    "text": "1.6 Data Frames\nNow that you’ve loaded the data, let’s take a look at it. When you’re working with a new data set, it’s usually not a good idea to print it out directly (by typing banknotes, in this case) until you know how big it is. Big data sets can take a long time to print, and the output can be difficult to read.\nInstead, you can use the head function to print only the beginning, or head, of a data set. Let’s take a peek:\n\nhead(banknotes)\n\n  currency_code   country     currency_name                       name gender\n1           ARS Argentina  Argentinian Peso                  Eva Perón      F\n2           ARS Argentina  Argentinian Peso       Julio Argentino Roca      M\n3           ARS Argentina  Argentinian Peso Domingo Faustino Sarmiento      M\n4           ARS Argentina  Argentinian Peso       Juan Manuel de Rosas      M\n5           ARS Argentina  Argentinian Peso            Manuel Belgrano      M\n6           AUD Australia Australian Dollar              David Unaipon      M\n  bill_count    profession known_for_being_first current_bill_value\n1        1.0      Activist                    No                100\n2        1.0 Head of Gov't                    No                100\n3        1.0 Head of Gov't                    No                 50\n4        1.0    Politician                    No                 20\n5        1.0       Founder                   Yes                 10\n6        0.5          STEM                   Yes                 50\n  prop_total_bills first_appearance_year death_year\n1               NA                  2012       1952\n2               NA                  1988       1914\n3               NA                  1999       1888\n4               NA                  1992       1877\n5               NA                  1970       1820\n6             0.48                  1995       1967\n                                                                                                                                                             comments\n1                                                                                                                                                                    \n2                                                                                                                                                                    \n3                                                                                                                                                                    \n4                                                                                                                                                                    \n5                                                                                                                              Came up with the first Argentine flag.\n6 Shares with another person. In 1927 when his book of Aboriginal legends, Hurgarrda was published, he became the first Australian Aboriginal writer to be published.\n                                          hover_text has_portrait            id\n1                                                            true     ARS_Evita\n2                                                            true ARS_Argentino\n3                                                            true   ARS_Domingo\n4                                                            true     ARS_Rosas\n5                      Designed first Argentine flag         true  ARS_Belgrano\n6 First Australian Aboriginal writer to be published         true   AUD_Unaipon\n  scaled_bill_value\n1         1.0000000\n2         1.0000000\n3         0.4444444\n4         0.1111111\n5         0.0000000\n6         0.4736842\n\n\nThis data set is tabular—as you might have already guessed, since it came from a CSV file. In R, it’s represented by a data frame, a table with rows and columns. R uses data frames to represent most (but not all) kinds of tabular data. The read.csv function, which you used to read this data, always returns a data frame.\nFor a data frame, the head function only prints the first six rows. If there are lots of columns or the columns are wide, as is the case here, R wraps the output across lines.\nWhen you first read an object into R, you might not know whether it’s a data frame. One way to check is visually, by printing it (as you just did with head). A better way to check is with the class function, which returns information about what an object is. For a data frame, the result will always contain data.frame:\n\nclass(banknotes)\n\n[1] \"data.frame\"\n\n\nYou’ll learn more about classes in Section 2.2, but for now you can use this function to identify data frames.\nBy counting the columns in the output from head(banknotes), you can see that this data set has 17 columns. A more convenient way to check the number of columns in a data set is with the ncol function:\n\nncol(banknotes)\n\n[1] 17\n\n\nThe similarly-named nrow function returns the number of rows:\n\nnrow(banknotes)\n\n[1] 279\n\n\nAlternatively, you can get both numbers at the same time with the dim (short for “dimensions”) function.\nSince the columns have names, you might also want to get just these. You can do that with the names or colnames functions. Both return the same result:\n\nnames(banknotes)\n\n [1] \"currency_code\"         \"country\"               \"currency_name\"        \n [4] \"name\"                  \"gender\"                \"bill_count\"           \n [7] \"profession\"            \"known_for_being_first\" \"current_bill_value\"   \n[10] \"prop_total_bills\"      \"first_appearance_year\" \"death_year\"           \n[13] \"comments\"              \"hover_text\"            \"has_portrait\"         \n[16] \"id\"                    \"scaled_bill_value\"    \n\ncolnames(banknotes)\n\n [1] \"currency_code\"         \"country\"               \"currency_name\"        \n [4] \"name\"                  \"gender\"                \"bill_count\"           \n [7] \"profession\"            \"known_for_being_first\" \"current_bill_value\"   \n[10] \"prop_total_bills\"      \"first_appearance_year\" \"death_year\"           \n[13] \"comments\"              \"hover_text\"            \"has_portrait\"         \n[16] \"id\"                    \"scaled_bill_value\"    \n\n\nIf the rows have names, you can get those with the rownames function. For this particular data set, the rows don’t have names.\n\n1.6.1 Summarizing Data\nAn efficient way to get a sense of what’s actually in a data set is to have R compute summary information. This works especially well for data frames, but also applies to other data. R provides two different functions to get summaries: str and summary.\nThe str function returns a structural summary of an object. This kind of summary tells us about the structure of the data—the number of rows, the number and names of columns, what kind of data is in each column, and some sample values. Here’s the structural summary for the banknotes data:\n\nstr(banknotes)\n\n'data.frame':   279 obs. of  17 variables:\n $ currency_code        : chr  \"ARS\" \"ARS\" \"ARS\" \"ARS\" ...\n $ country              : chr  \"Argentina\" \"Argentina\" \"Argentina\" \"Argentina\" ...\n $ currency_name        : chr  \"Argentinian Peso\" \"Argentinian Peso\" \"Argentinian Peso\" \"Argentinian Peso\" ...\n $ name                 : chr  \"Eva Perón\" \"Julio Argentino Roca\" \"Domingo Faustino Sarmiento\" \"Juan Manuel de Rosas\" ...\n $ gender               : chr  \"F\" \"M\" \"M\" \"M\" ...\n $ bill_count           : num  1 1 1 1 1 0.5 0.5 0.5 0.5 0.5 ...\n $ profession           : chr  \"Activist\" \"Head of Gov't\" \"Head of Gov't\" \"Politician\" ...\n $ known_for_being_first: chr  \"No\" \"No\" \"No\" \"No\" ...\n $ current_bill_value   : int  100 100 50 20 10 50 10 20 10 50 ...\n $ prop_total_bills     : num  NA NA NA NA NA 0.48 0.08 0.1 0.08 0.48 ...\n $ first_appearance_year: int  2012 1988 1999 1992 1970 1995 1993 1994 1993 1995 ...\n $ death_year           : chr  \"1952\" \"1914\" \"1888\" \"1877\" ...\n $ comments             : chr  \"\" \"\" \"\" \"\" ...\n $ hover_text           : chr  \"\" \"\" \"\" \"\" ...\n $ has_portrait         : chr  \"true\" \"true\" \"true\" \"true\" ...\n $ id                   : chr  \"ARS_Evita\" \"ARS_Argentino\" \"ARS_Domingo\" \"ARS_Rosas\" ...\n $ scaled_bill_value    : num  1 1 0.444 0.111 0 ...\n\n\nThis summary lists information about each column, and includes most of what you found earlier by using several different functions separately. The summary uses chr to indicate columns of text (“characters”) and int to indicate columns of integers.\nIn contrast to str, the summary function returns a statistical summary of an object. This summary includes summary statistics for each column, choosing appropriate statistics based on the kind of data in the column. For numbers, this is generally the mean, median, and quantiles. For categories, this is the frequencies. Other kinds of statistics are shown for other kinds of data. Here’s the statistical summary for the banknotes data:\n\nsummary(banknotes)\n\n currency_code        country          currency_name          name          \n Length:279         Length:279         Length:279         Length:279        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n    gender            bill_count      profession        known_for_being_first\n Length:279         Min.   :0.2500   Length:279         Length:279           \n Class :character   1st Qu.:0.5000   Class :character   Class :character     \n Mode  :character   Median :1.0000   Mode  :character   Mode  :character     \n                    Mean   :0.8456                                           \n                    3rd Qu.:1.0000                                           \n                    Max.   :1.0000                                           \n                                                                             \n current_bill_value prop_total_bills first_appearance_year  death_year       \n Min.   :     1     Min.   :0.0100   Min.   :1869          Length:279        \n 1st Qu.:    20     1st Qu.:0.0550   1st Qu.:1980          Class :character  \n Median :   100     Median :0.1000   Median :1996          Mode  :character  \n Mean   :  4039     Mean   :0.1669   Mean   :1992                            \n 3rd Qu.:  1000     3rd Qu.:0.2300   3rd Qu.:2012                            \n Max.   :100000     Max.   :0.7500   Max.   :2021                            \n                    NA's   :220                                              \n   comments          hover_text        has_portrait            id           \n Length:279         Length:279         Length:279         Length:279        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n scaled_bill_value\n Min.   :0.00000  \n 1st Qu.:0.01828  \n Median :0.11111  \n Mean   :0.30606  \n 3rd Qu.:0.48914  \n Max.   :1.00000  \n NA's   :1        \n\n\n\n\n1.6.2 Selecting Columns\nYou can select an individual column from a data frame by name with $, the dollar sign operator. The syntax is:\n\nVARIABLE$COLUMN_NAME\n\nFor instance, for the banknotes data, banknotes$country selects the country column, and banknotes$first_appearance_year selects the first_appearance_year column. So one way to compute the mean of the first_appearance_year column is:\n\nmean(banknotes$first_appearance_year)\n\n[1] 1992.319\n\n\nSimilarly, to compute the range of the current_bill_value column:\n\nrange(banknotes$current_bill_value)\n\n[1]      1 100000\n\n\nYou can also use the dollar sign operator to assign values to columns. For instance, to assign USD to the entire currency_code column:\n\nbanknotes$currency_code = \"USD\"\n\nBe careful when you do this, as there is no undo. Fortunately, you haven’t saved any transformations to the banknotes data to your computer’s hard drive yet, so you can reset the banknotes variable back to what it was by reloading the data set:\n\nbanknotes = read.csv(\"data/banknotes.csv\")\n\nIn Section 2.4, you’ll learn how to select rows and individual elements from a data frame, as well as other ways to select columns.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "chapters/01_getting-started.html#exercises",
    "href": "chapters/01_getting-started.html#exercises",
    "title": "1  Getting Started",
    "section": "1.7 Exercises",
    "text": "1.7 Exercises\n\n1.7.1 Exercise\nIn a string, an escape sequence or escape code consists of a backslash followed by one or more characters. Escape sequences make it possible to:\n\nWrite quotes or backslashes within a string\nWrite characters that don’t appear on your keyboard (for example, characters in a foreign language)\n\nFor example, the escape sequence \\n corresponds to the newline character. There’s a complete list of escape sequences for R in the ?Quotes help file. Other programming languages also use escape sequences, and many of them are the same as in R.\n\nAssign a string that contains a newline to the variable newline. Then make R display the value of the variable by entering newline at the R prompt.\nThe message function prints output to the R console, so it’s one way you can make your R code report information as it runs. Use the message function to print newline.\nHow does the output from part 1 compare to the output from part 2? Why do you think they differ?\n\n\n\n1.7.2 Exercise\n\nChoose a directory on your computer that you’re familiar with, such as one you created. Determine the path to the directory, then use list.files to display its contents. Do the files displayed match what you see in your system’s file browser?\nWhat does the all.files parameter of list.files do? Give an example.\n\n\n\n1.7.3 Exercise\nThe read.table function is another function for reading tabular data. Take a look at the help file for read.table. Recall that read.csv reads tabular data where the values are separated by commas, and read.delim reads tabular data where the values are separated by tabs.\n\nWhat value-separator does read.table expect by default?\nIs it possible to use read.table to read a CSV? Explain. If your answer is yes, show how to use read.table to load the banknotes data from Section 1.5.1.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Getting Started</span>"
    ]
  },
  {
    "objectID": "chapters/02_data-structures.html",
    "href": "chapters/02_data-structures.html",
    "title": "2  Data Structures",
    "section": "",
    "text": "2.1 Vectors\nThe previous chapter introduced R and gave you enough background to do some simple computations on data sets. This chapter focuses on the foundational knowledge and skills you’ll need in order to use R effectively in the long term. Specifically, it begins with a deep dive into R’s various data structures and data types, then explains a variety of ways to get and set their elements.\nA vector is a collection of values. Vectors are the fundamental unit of data in R, and you’ve already used them in the previous sections.\nFor instance, each column in a data frame is a vector. So the first_appearance_year column in the banknotes data from Section 1.6 is a vector. Take a look at it now. You can use head to avoid printing too much. Set the second argument to 10 so that exactly 10 values are printed:\nhead(banknotes$first_appearance_year, 10)\n\n [1] 2012 1988 1999 1992 1970 1995 1993 1994 1993 1995\nLike all vectors, this vector is ordered, which just means the values, or elements, have specific positions. The value of the 1st element is 2012, the 2nd is 1988, the 5th is 1970, and so on.\nNotice that the elements of this vector are all integers. In R, the elements of a vector must all be the same type of data (we say the elements are homogeneous). A vector can contain integers, decimal numbers, strings, or several other types of data, but not a mix these all at once.\nThe other columns in the banknotes data frame are also vectors. For instance, the name column is a vector of strings:\nhead(banknotes$name)\n\n[1] \"Eva Perón\"                  \"Julio Argentino Roca\"      \n[3] \"Domingo Faustino Sarmiento\" \"Juan Manuel de Rosas\"      \n[5] \"Manuel Belgrano\"            \"David Unaipon\"\nVectors can contain any number of elements, including 0 or 1 element. Unlike mathematics, R does not distinguish between vectors and scalars (solitary values). So as far as R is concerned, a solitary value, like 3, is a vector with 1 element.\nYou can check the length of a vector (and other objects) with the length function:\nlength(3)\n\n[1] 1\n\nlength(\"hello\")\n\n[1] 1\n\nlength(banknotes$first_appearance_year)\n\n[1] 279\nSince the last of these is a column from the data frame banknotes, the length is the same as the number of rows in banknotes.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data Structures</span>"
    ]
  },
  {
    "objectID": "chapters/02_data-structures.html#sec-vectors",
    "href": "chapters/02_data-structures.html#sec-vectors",
    "title": "2  Data Structures",
    "section": "",
    "text": "2.1.1 Creating Vectors\nSometimes you’ll want to create your own vectors. You can do this by concatenating several vectors together with the c function. It accepts any number of vector arguments, and combines them into a single vector:\n\nc(1, 2, 19, -3)\n\n[1]  1  2 19 -3\n\nc(\"hi\", \"hello\")\n\n[1] \"hi\"    \"hello\"\n\nc(1, 2, c(3, 4))\n\n[1] 1 2 3 4\n\n\nIf the arguments you pass to the c function have different data types, R will attempt to convert them to a common data type that preserves the information:\n\nc(1, \"cool\", 2.3)\n\n[1] \"1\"    \"cool\" \"2.3\" \n\n\nSection 2.2.2 explains the rules for this conversion in more detail.\nThe colon operator : creates vectors that contain sequences of integers. This is useful for creating “toy” data to test things on, and later we’ll see that it’s also important in several other contexts. Here are a few different sequences:\n\n1:3\n\n[1] 1 2 3\n\n-3:5\n\n[1] -3 -2 -1  0  1  2  3  4  5\n\n10:1\n\n [1] 10  9  8  7  6  5  4  3  2  1\n\n\nBeware that both endpoints are included in the sequence, even in sequences like 1:0, and that the difference between elements is always -1 or 1. If you want more control over the generated sequence, use the seq function instead.\n\n\n2.1.2 Indexing Vectors\nYou can access individual elements of a vector with the indexing operator [ (also called the square bracket operator). The syntax is:\nVECTOR[INDEXES]\nHere INDEXES is a vector of positions of elements you want to get or set.\nFor example, let’s make a vector with 5 elements and get the 2nd element:\n\nx = c(4, 8, 3, 2, 1)\nx[2]\n\n[1] 8\n\n\nNow let’s get the 3rd and 1st element:\n\nx[c(3, 1)]\n\n[1] 3 4\n\n\nYou can use the indexing operator together with the assignment operator to assign elements of a vector:\n\nx[3] = 0\nx\n\n[1] 4 8 0 2 1\n\n\nIndexing is among the most frequently used operations in R, so take some time to try it out with few different vectors and indexes. We’ll revisit indexing in Section 2.4 to learn a lot more about it.\n\n\n2.1.3 Vectorization\nLet’s look at what happens if we call a mathematical function, like sin, on a vector:\n\nx = c(1, 3, 0, pi)\nsin(x)\n\n[1] 8.414710e-01 1.411200e-01 0.000000e+00 1.224647e-16\n\n\nThis gives us the same result as if we had called the function separately on each element. That is, the result is the same as:\n\nc(sin(1), sin(3), sin(0), sin(pi))\n\n[1] 8.414710e-01 1.411200e-01 0.000000e+00 1.224647e-16\n\n\nOf course, the first version is much easier to type.\nFunctions that take a vector argument and get applied element-by-element like this are said to be vectorized. Most functions in R are vectorized, especially math functions. Some examples include sin, cos, tan, log, exp, and sqrt.\nFunctions that are not vectorized tend to be ones that combine or aggregate values in some way. For instance, the sum, mean, median, length, and class functions are not vectorized.\nA function can be vectorized across multiple arguments. This is easiest to understand in terms of the arithmetic operators. Let’s see what happens if we add two vectors together:\n\nx = c(1, 2, 3, 4)\ny = c(-1, 7, 10, -10)\nx + y\n\n[1]  0  9 13 -6\n\n\nThe elements are paired up and added according to their positions. The other arithmetic operators are also vectorized:\n\nx - y\n\n[1]  2 -5 -7 14\n\nx * y\n\n[1]  -1  14  30 -40\n\nx / y\n\n[1] -1.0000000  0.2857143  0.3000000 -0.4000000\n\n\n\n\n2.1.4 Recycling\nWhen a function is vectorized across multiple arguments, what happens if the vectors have different lengths? Whenever you think of a question like this as you’re learning R, the best way to find out is to create some toy data and test it yourself. Let’s try that now:\n\nx = c(1, 2, 3, 4)\ny = c(-1, 1)\nx + y\n\n[1] 0 3 2 5\n\n\nThe elements of the shorter vector are recycled to match the length of the longer vector. That is, after the second element, the elements of y are repeated to make a vector with the same length as x (because x is longer), and then vectorized addition is carried out as usual.\nHere’s what that looks like written down:\n   1  2  3  4\n+ -1  1 -1  1\n  -----------\n   0  3  2  5\nIf the length of the longer vector is not a multiple of the length of the shorter vector, R issues a warning, but still returns the result. The warning as meant as a reminder, because unintended recycling is a common source of bugs:\n\nx = c(1, 2, 3, 4, 5)\ny = c(-1, 1)\nx + y\n\nWarning in x + y: longer object length is not a multiple of shorter object\nlength\n\n\n[1] 0 3 2 5 4\n\n\nRecycling might seem strange at first, but it’s convenient if you want to use a specific value (or pattern of values) with a vector. For instance, suppose you want to multiply all the elements of a vector by 2. Recycling makes this easy:\n\n2 * c(1, 2, 3)\n\n[1] 2 4 6\n\n\nWhen you use recycling, most of the time one of the arguments will be a scalar like this.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data Structures</span>"
    ]
  },
  {
    "objectID": "chapters/02_data-structures.html#sec-data-types-classes",
    "href": "chapters/02_data-structures.html#sec-data-types-classes",
    "title": "2  Data Structures",
    "section": "2.2 Data Types & Classes",
    "text": "2.2 Data Types & Classes\nData can be categorized into different types based on sets of shared characteristics. For instance, statisticians tend to think about whether data are numeric or categorical:\n\nnumeric\n\ncontinuous (real or complex numbers)\ndiscrete (integers)\n\ncategorical\n\nnominal (categories with no ordering)\nordinal (categories with some ordering)\n\n\nOf course, other types of data, like graphs (networks) and natural language (books, speech, and so on), are also possible. Categorizing data this way is useful for reasoning about which methods to apply to which data.\nIn R, data objects are categorized in two different ways:\n\nThe class of an R object describes what the object does, or the role that it plays. Sometimes objects can do more than one thing, so objects can have more than one class. The class function, which debuted in Section 1.6, returns the classes of its argument.\nThe type of an R object describes what the object is. Technically, the type corresponds to how the object is stored in your computer’s memory. Each object has exactly one type. The typeof function returns the type of its argument.\n\nOf the two, classes tend to be more important than types. If you aren’t sure what an object is, checking its classes should be the first thing you do.\nThe built-in classes you’ll use all the time correspond to vectors and lists (which we’ll learn more about in Section 2.2.1):\n\n\n\n\n\n\n\n\nClass\nExample\nDescription\n\n\n\n\nlogical\nTRUE, FALSE\nLogical (or Boolean) values\n\n\ninteger\n-1L, 1L, 2L\nInteger numbers\n\n\nnumeric\n-2.1, 7, 34.2\nReal numbers\n\n\ncomplex\n3-2i, -8+0i\nComplex numbers\n\n\ncharacter\n\"hi\", \"YAY\"\nText strings\n\n\nlist\nlist(TRUE, 1, \"hi\")\nOrdered collection of heterogeneous elements\n\n\n\nR doesn’t distinguish between scalars and vectors, so the class of a vector is the same as the class of its elements:\n\nclass(\"hi\")\n\n[1] \"character\"\n\nclass(c(\"hello\", \"hi\"))\n\n[1] \"character\"\n\n\nIn addition, for most vectors, the class and the type are the same:\n\nx = c(TRUE, FALSE)\nclass(x)\n\n[1] \"logical\"\n\ntypeof(x)\n\n[1] \"logical\"\n\n\nThe exception to this rule is numeric vectors, which have type double for historical reasons:\n\nclass(pi)\n\n[1] \"numeric\"\n\ntypeof(pi)\n\n[1] \"double\"\n\ntypeof(3)\n\n[1] \"double\"\n\n\nThe word “double” here stands for double-precision floating point number, a standard way to represent real numbers on computers.\nBy default, R assumes any numbers you enter in code are numeric, even if they’re integer-valued.\nThe class integer also represents integer numbers, but it’s not used as often as numeric. A few functions, such as the sequence operator : and the length function, return integers. You can also force R to create an integer by adding the suffix L to a number, but there are no major drawbacks to using the double default:\n\nclass(1:3)\n\n[1] \"integer\"\n\nclass(3)\n\n[1] \"numeric\"\n\nclass(3L)\n\n[1] \"integer\"\n\n\nBesides the classes for vectors and lists, there are several built-in classes that represent more sophisticated data structures:\n\n\n\n\n\n\n\nClass\nDescription\n\n\n\n\nfunction\nFunctions\n\n\nfactor\nCategorical values\n\n\nmatrix\nTwo-dimensional ordered collection of homogeneous elements\n\n\narray\nMulti-dimensional ordered collection of homogeneous elements\n\n\ndata.frame\nData frames\n\n\n\nFor these, the class is usually different from the type. We’ll learn more about most of these later on.\n\n2.2.1 Lists\nA list is an ordered data structure where the elements can have different types (they are heterogeneous). This differs from a vector, where the elements all have to have the same type, as we saw in Section 2.1. The tradeoff is that most vectorized functions do not work with lists.\nYou can make an ordinary list with the list function:\n\nx = list(1, c(\"hi\", \"bye\"))\nclass(x)\n\n[1] \"list\"\n\ntypeof(x)\n\n[1] \"list\"\n\n\nFor ordinary lists, the type and the class are both list. In Section 2.4, we’ll learn how to get and set list elements, and in later sections we’ll learn more about when and why to use lists.\nYou’ve already seen one list, the banknotes data frame:\n\nclass(banknotes)\n\n[1] \"data.frame\"\n\ntypeof(banknotes)\n\n[1] \"list\"\n\n\nUnder the hood, data frames are lists, and each column is a list element. Because the class is data.frame rather than list, R treats data frames differently from ordinary lists. This difference is apparent in how data frames are printed compared to ordinary lists.\n\n\n2.2.2 Implicit Coercion\nR’s types fall into a natural hierarchy of expressiveness:\n\n\n\nR’s hierarchy of types.\n\n\nEach type on the right is more expressive than the ones to its left. That is, with the convention that FALSE is 0 and TRUE is 1, we can represent any logical value as an integer. In turn, we can represent any integer as a double, and any double as a complex number. By writing the number out, we can also represent any complex number as a string.\nThe point is that no information is lost as we follow the arrows from left to right along the types in the hierarchy. In fact, R will automatically and silently convert from types on the left to types on the right as needed. This is called implicit coercion.\nAs an example, consider what happens if we add a logical value to a number:\n\nTRUE + 2\n\n[1] 3\n\n\nR automatically converts the TRUE to the numeric value 1, and then carries out the arithmetic as usual.\nWe’ve already seen implicit coercion at work once before, when we learned the c function. Since the elements of a vector all have to have the same type, if you pass several different types to c, then R tries to use implicit coercion to make them the same:\n\nx = c(TRUE, \"hi\", 1, 1+3i)\nclass(x)\n\n[1] \"character\"\n\nx\n\n[1] \"TRUE\" \"hi\"   \"1\"    \"1+3i\"\n\n\nImplicit coercion is strictly one-way; it never occurs in the other direction. If you want to coerce a type on the right to one on the left, you can do it explicitly with one of the as.TYPE functions. For instance, the as.numeric (or as.double) function coerces to numeric:\n\nas.numeric(\"3.1\")\n\n[1] 3.1\n\n\nThere are a few types that fall outside of the hierarchy entirely, like functions. Implicit coercion doesn’t apply to these. If you try to use these types where it doesn’t make sense to, R generally returns an error:\n\nsin + 3\n\nError in sin + 3: non-numeric argument to binary operator\n\n\nIf you try to use these types as elements of a vector, you get back a list instead:\n\nx = c(1, 2, sum)\nclass(x)\n\n[1] \"list\"\n\n\nUnderstanding how implicit coercion works will help you avoid bugs, and can also be a time-saver. For example, we can use implicit coercion to succinctly count how many elements of a vector satisfy a some condition:\n\nx = c(1, 3, -1, 10, -2, 3, 8, 2)\ncondition = x &lt; 4\nsum(condition)    # or sum(x &lt; 4)\n\n[1] 6\n\n\nIf you still don’t quite understand how the code above works, try inspecting each variable. In general, inspecting each step or variable is a good strategy for understanding why a piece of code works (or doesn’t work!). Here the implicit coercion happens in the third line.\n\n\n2.2.3 Matrices & Arrays\nA matrix is the two-dimensional analogue of a vector. The elements, which are arranged into rows and columns, are ordered and homogeneous.\nYou can create a matrix from a vector with the matrix function. By default, the columns are filled first:\n\n# A matrix with 2 rows and 3 columns:\nmatrix(1:6, 2, 3)\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\nThe class of a matrix is always matrix, and the type matches the type of the elements:\n\nx = matrix(c(\"a\", \"b\", NA, \"c\"), 2, 2)\nx\n\n     [,1] [,2]\n[1,] \"a\"  NA  \n[2,] \"b\"  \"c\" \n\nclass(x)\n\n[1] \"matrix\" \"array\" \n\ntypeof(x)\n\n[1] \"character\"\n\n\nYou can use the matrix multiplication operator %*% to multiply two matrices with compatible dimensions.\nAn array is a further generalization of matrices to higher dimensions. You can create an array from a vector with the array function. The characteristics of arrays are almost identical to matrices, but the class of an array is always array.\n\n\n2.2.4 Factors\nA feature is categorical if it measures a qualitative category. For example, the genres rock, blues, alternative, folk, pop are categories.\nR uses the class factor to represent categorical data. Visualizations and statistical models sometimes treat factors differently than other data types, so it’s important to make sure you have the right data type. If you’re ever unsure, remember that you can check the class of an object with the class function.\nWhen you load a data set, R usually can’t tell which features are categorical. That means identifying and converting the categorical features is up to you. For beginners, it can be difficult to understand whether a feature is categorical or not. The key is to think about whether you want to use the feature to divide the data into groups.\nFor example, if we want to know how many songs are in the rock genre, we first need to divide the songs by genre, and then count the number of songs in each group (or at least the rock group).\nAs a second example, months recorded as numbers can be categorical or not, depending on how you want to use them. You might want to treat them as categorical (for example, to compute max rainfall in each month) or you might want to treat them as numbers (for example, to compute the number of months time between two events).\nThe bottom line is that you have to think about what you’ll be doing in the analysis. In some cases, you might treat a feature as categorical only for part of the analysis.\nLet’s think about which features are categorical in banknotes data set. To refresh our memory of what’s in the data set, we can look at the structural summary:\n\nstr(banknotes)\n\n'data.frame':   279 obs. of  17 variables:\n $ currency_code        : chr  \"ARS\" \"ARS\" \"ARS\" \"ARS\" ...\n $ country              : chr  \"Argentina\" \"Argentina\" \"Argentina\" \"Argentina\" ...\n $ currency_name        : chr  \"Argentinian Peso\" \"Argentinian Peso\" \"Argentinian Peso\" \"Argentinian Peso\" ...\n $ name                 : chr  \"Eva Perón\" \"Julio Argentino Roca\" \"Domingo Faustino Sarmiento\" \"Juan Manuel de Rosas\" ...\n $ gender               : chr  \"F\" \"M\" \"M\" \"M\" ...\n $ bill_count           : num  1 1 1 1 1 0.5 0.5 0.5 0.5 0.5 ...\n $ profession           : chr  \"Activist\" \"Head of Gov't\" \"Head of Gov't\" \"Politician\" ...\n $ known_for_being_first: chr  \"No\" \"No\" \"No\" \"No\" ...\n $ current_bill_value   : int  100 100 50 20 10 50 10 20 10 50 ...\n $ prop_total_bills     : num  NA NA NA NA NA 0.48 0.08 0.1 0.08 0.48 ...\n $ first_appearance_year: int  2012 1988 1999 1992 1970 1995 1993 1994 1993 1995 ...\n $ death_year           : chr  \"1952\" \"1914\" \"1888\" \"1877\" ...\n $ comments             : chr  \"\" \"\" \"\" \"\" ...\n $ hover_text           : chr  \"\" \"\" \"\" \"\" ...\n $ has_portrait         : chr  \"true\" \"true\" \"true\" \"true\" ...\n $ id                   : chr  \"ARS_Evita\" \"ARS_Argentino\" \"ARS_Domingo\" \"ARS_Rosas\" ...\n $ scaled_bill_value    : num  1 1 0.444 0.111 0 ...\n\n\nThe columns bill_count, current_bill_value, and prop_total_bills are quantitative rather than categorical, since they measure values and proportions of bills.\nThe currency_code, country, currency_name, gender, profession, known_for_being_first, and has_portrait columns are all categorical. We can see this better if we use the table function to compute frequencies for the values in the columns:\n\ntable(banknotes$currency_code)\n\n\nARS AUD BDT BOB CAD CLP COP CRC CVE CZK DOP GBP GEL IDR ILS ISK JMD JPY KGS KRW \n  5   9   9  15   9   5  11   6   5   6  11   8   9  12   4   5   5   3   7   4 \nMWK MXN NGN NZD PEN PGK PHP RMB RSD SEK STD TND TRY UAH USD UYU VES​ VES ZAR \n  7  11   9   5   7   1   9   6   9   6   8   4  12  10   7   7   2   6   5 \n\ntable(banknotes$country)\n\n\n            Argentina             Australia            Bangladesh \n                    5                     9                     9 \n              Bolivia                Canada            Cape Verde \n                   15                     9                     5 \n                Chile                 China              Colombia \n                    5                     6                    11 \n           Costa Rica        Czech Republic    Dominican Republic \n                    6                     6                    11 \n              England               Georgia               Iceland \n                    8                     9                     5 \n            Indonesia                Israel               Jamaica \n                   12                     4                     5 \n                Japan            Kyrgyzstan                Malawi \n                    3                     7                     7 \n               Mexico           New Zealand               Nigeria \n                   11                     5                     9 \n     Papua New Guinea                  Peru           Philippines \n                    1                     7                     9 \nSão Tomé and Príncipe                Serbia          South Africa \n                    8                     9                     5 \n          South Korea                Sweden               Tunisia \n                    4                     6                     4 \n               Turkey               Ukraine         United States \n                   12                    10                     7 \n              Uruguay             Venezuela \n                    7                     8 \n\ntable(banknotes$gender)\n\n\n  F   M \n 59 220 \n\ntable(banknotes$known_for_being_first)\n\n\n No Yes \n185  94 \n\n\nEach column has only a few unique values, repeated many times. These are ideal for grouping the data. If age had been recorded as a number, rather than a range, it would probably be better to treat it as quantitative, since there would be far more unique values. Columns with many unique values don’t make good categorical features, because each group will only have a few elements!\nThe name, comments, hover_text, and id columns contain qualitative strings rather than categories, where values are rarely or never repeated. This means using them for grouping is generally unhelpful, since most of the groups will just be single observations.\nThat leaves us with the first_appearance_year and death_year columns. It’s easy to imagine grouping the data by year, but these are also clearly numbers. These columns can be treated as quantitative or categorical data, depending on how we want to use them to analyze the data.\nLet’s convert the currency_code column to a factor. To do this, use the factor function:\n\ncurrency_codes = factor(banknotes$currency_code)\nhead(currency_codes)\n\n[1] ARS ARS ARS ARS ARS AUD\n39 Levels: ARS AUD BDT BOB CAD CLP COP CRC CVE CZK DOP GBP GEL IDR ILS ... ZAR\n\n\nNotice that factors are printed differently than strings.\nThe categories of a factor are called levels. You can list the levels with the levels function:\n\nlevels(currency_codes)\n\n [1] \"ARS\" \"AUD\" \"BDT\" \"BOB\" \"CAD\" \"CLP\" \"COP\" \"CRC\" \"CVE\" \"CZK\" \"DOP\" \"GBP\"\n[13] \"GEL\" \"IDR\" \"ILS\" \"ISK\" \"JMD\" \"JPY\" \"KGS\" \"KRW\" \"MWK\" \"MXN\" \"NGN\" \"NZD\"\n[25] \"PEN\" \"PGK\" \"PHP\" \"RMB\" \"RSD\" \"SEK\" \"STD\" \"TND\" \"TRY\" \"UAH\" \"USD\" \"UYU\"\n[37] \"VES​\" \"VES\" \"ZAR\"\n\n\nFactors remember all possible levels even if you take a subset:\n\ncurrency_codes[1:3]\n\n[1] ARS ARS ARS\n39 Levels: ARS AUD BDT BOB CAD CLP COP CRC CVE CZK DOP GBP GEL IDR ILS ... ZAR\n\n\nThis is another way factors are different from strings. Factors “remember” all possible levels even if they aren’t present. This ensures that if you plot a factor, the missing levels will still be represented on the plot.\nYou can make a factor forget levels that aren’t present with the droplevels function:\n\ndroplevels(currency_codes[1:3])\n\n[1] ARS ARS ARS\nLevels: ARS",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data Structures</span>"
    ]
  },
  {
    "objectID": "chapters/02_data-structures.html#special-values",
    "href": "chapters/02_data-structures.html#special-values",
    "title": "2  Data Structures",
    "section": "2.3 Special Values",
    "text": "2.3 Special Values\nR has four special values to represent missing or invalid data.\n\n2.3.1 Missing Values\nThe value NA, called the missing value, represents missing entries in a data set. It’s implied that the entries are missing due to how the data was collected, although there are exceptions. As an example, imagine the data came from a survey, and respondents chose not to answer some questions. In the data set, their answers for those questions can be recorded as NA.\nThe missing value is a chameleon: it can be a logical, integer, numeric, complex, or character value. By default, the missing value is logical, and the other types occur through coercion (Section 2.2.2):\n\nclass(NA)\n\n[1] \"logical\"\n\nclass(c(1, NA))\n\n[1] \"numeric\"\n\nclass(c(\"hi\", NA, NA))\n\n[1] \"character\"\n\n\nThe missing value is also contagious: it represents an unknown quantity, so using it as an argument to a function usually produces another missing value. The idea is that if the inputs to a computation are unknown, generally so is the output:\n\nNA - 3\n\n[1] NA\n\nmean(c(1, 2, NA))\n\n[1] NA\n\n\nAs a consequence, testing whether an object is equal to the missing value with == doesn’t return a meaningful result:\n\n5 == NA\n\n[1] NA\n\nNA == NA\n\n[1] NA\n\n\nYou can use the is.na function instead:\n\nis.na(5)\n\n[1] FALSE\n\nis.na(NA)\n\n[1] TRUE\n\nis.na(c(1, NA, 3))\n\n[1] FALSE  TRUE FALSE\n\n\nMissing values are a feature that sets R apart from most other programming languages.\n\n\n2.3.2 Infinity\nThe value Inf represents infinity, and can be numeric or complex. You’re most likely to encounter it as the result of certain computations:\n\n13 / 0\n\n[1] Inf\n\nclass(Inf)\n\n[1] \"numeric\"\n\n\nYou can use the is.infinite function to test whether a value is infinite:\n\nis.infinite(3)\n\n[1] FALSE\n\nis.infinite(c(-Inf, 0, Inf))\n\n[1]  TRUE FALSE  TRUE\n\n\n\n\n2.3.3 Not a Number\nThe value NaN (“not a number”) represents a quantity that’s undefined mathematically. For instance, dividing 0 by 0 is undefined:\n\n0 / 0\n\n[1] NaN\n\nclass(NaN)\n\n[1] \"numeric\"\n\n\nLike Inf, NaN can be numeric or complex.\nYou can use the is.nan function to test whether a value is NaN:\n\nis.nan(c(10.1, log(-1), 3))\n\nWarning in log(-1): NaNs produced\n\n\n[1] FALSE  TRUE FALSE\n\n\n\n\n2.3.4 Null\nThe value NULL represents a quantity that’s undefined in R. Most of the time, NULL indicates the absence of a result. For instance, vectors don’t have dimensions, so the dim function returns NULL for vectors:\n\ndim(c(1, 2))\n\nNULL\n\nclass(NULL)\n\n[1] \"NULL\"\n\ntypeof(NULL)\n\n[1] \"NULL\"\n\n\nUnlike the other special values, NULL has its own unique type and class.\nYou can use the is.null function to test whether a value is NULL:\n\nis.null(\"null\")\n\n[1] FALSE\n\nis.null(NULL)\n\n[1] TRUE",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data Structures</span>"
    ]
  },
  {
    "objectID": "chapters/02_data-structures.html#sec-indexing",
    "href": "chapters/02_data-structures.html#sec-indexing",
    "title": "2  Data Structures",
    "section": "2.4 Indexing",
    "text": "2.4 Indexing\nThe way to get and set elements of a data structure is by indexing. Sometimes this is also called subsetting or (element) extraction. Indexing is a fundamental operation in R, key to reasoning about how to solve problems with the language.\nWe first saw indexing in Section 1.6, where we used $, the dollar sign operator, to get and set data frame columns. We saw indexing again in Section 2.1.2, where we used [, the indexing or square bracket operator, to get and set elements of vectors.\nThe indexing operator [ is R’s primary operator for indexing. It works in four different ways, depending on the type of the index you use. These four ways to select elements are:\n\nAll elements, with no index\nBy position, with a numeric index\nBy name, with a character index\nBy condition, with a logical index\n\nLet’s examine each in more detail. We’ll use this vector as an example, to keep things concise:\n\nx = c(a = 10, b = 20, c = 30, d = 40, e = 50)\nx\n\n a  b  c  d  e \n10 20 30 40 50 \n\n\nEven though we’re using a vector here, the indexing operator works with almost all data structures, including factors, lists, matrices, and data frames. We’ll look at unique behavior for some of these later on.\n\n2.4.1 All Elements\nThe first way to use [ to select elements is to leave the index blank. This selects all elements:\n\nx[]\n\n a  b  c  d  e \n10 20 30 40 50 \n\n\nThis way of indexing is rarely used for getting elements, since it’s the same as entering the variable name without the indexing operator. Instead, its main use is for setting elements. Suppose we want to set all the elements of x to 5. You might try writing this:\n\nx = 5\nx\n\n[1] 5\n\n\nRather than setting each element to 5, this sets x to the scalar 5, which is not what we want. Let’s reset the vector and try again, this time using the indexing operator:\n\nx = c(a = 10, b = 20, c = 30, d = 40, e = 50)\nx[] = 5\nx\n\na b c d e \n5 5 5 5 5 \n\n\nAs you can see, now all the elements are 5. So the indexing operator is necessary to specify that we want to set the elements rather than the whole variable.\nLet’s reset x one more time, so that we can use it again in the next example:\n\nx = c(a = 10, b = 20, c = 30, d = 40, e = 50)\n\n\n\n2.4.2 By Position\nThe second way to use [ is to select elements by position. This happens when you use an integer or numeric index. We already saw the basics of this in Section 2.1.2.\nThe positions of the elements in a vector (or other data structure) correspond to numbers starting from 1 for the first element. This way of indexing is frequently used together with the sequence operator : to get ranges of values. For instance, let’s get the 2nd through 4th elements of x:\n\nx[2:4]\n\n b  c  d \n20 30 40 \n\n\nYou can also use this way of indexing to set specific elements or ranges of elements. For example, let’s set the 3rd and 5th elements of x to 9 and 7, respectively:\n\nx[c(3, 5)] = c(9, 7)\nx\n\n a  b  c  d  e \n10 20  9 40  7 \n\n\nWhen getting elements, you can repeat numbers in the index to get the same element more than once. You can also use the order of the numbers to control the order of the elements:\n\nx[c(2, 1, 2, 2)]\n\n b  a  b  b \n20 10 20 20 \n\n\nFinally, if the index contains only negative numbers, the elements at those positions are excluded rather than selected. For instance, let’s get all elements except the 1st and 5th:\n\nx[-c(1, 5)]\n\n b  c  d \n20  9 40 \n\n\nWhen you index by position, the index should always be all positive or all negative. Using a mix of positive and negative numbers causes R to emit error rather than returning elements, since it’s unclear what the result should be:\n\nx[c(-1, 2)]\n\nError in x[c(-1, 2)]: only 0's may be mixed with negative subscripts\n\n\n\n\n2.4.3 By Name\nThe third way to use [ is to select elements by name. This happens when you use a character vector as the index, and only works with named data structures.\nLike indexing by position, you can use indexing by name to get or set elements. You can also use it to repeat elements or change the order. Let’s get elements a, c, d, and a again from the vector x:\n\ny = x[c(\"a\", \"c\", \"d\", \"a\")]\ny\n\n a  c  d  a \n10  9 40 10 \n\n\nElement names are generally unique, but if they’re not, indexing by name gets or sets the first element whose name matches the index:\n\ny[\"a\"]\n\n a \n10 \n\n\nLet’s reset x again to prepare for learning about the final way to index:\n\nx = c(a = 10, b = 20, c = 30, d = 40, e = 50)\n\n\n\n2.4.4 By Condition\nThe fourth and final way to use [ is to select elements based on a condition. This happens when you use a logical vector as the index. The logical vector should have the same length as what you’re indexing, and will be recycled if it doesn’t.\n\nCongruent Vectors\nTo understand indexing by condition, we first need to learn about congruent vectors. Two vectors are congruent if they have the same length and they correspond element-by-element.\nFor example, suppose you do a survey that records each respondent’s favorite animal and age. These are two different vectors of information, but each person will have a response for both. So you’ll have two vectors that are the same length:\n\nanimal = c(\"dog\", \"cat\", \"iguana\")\nage = c(31, 24, 72)\n\nThe 1st element of each vector corresponds to the 1st person, the 2nd to the 2nd person, and so on. These vectors are congruent.\nNotice that columns in a data frame are always congruent!\n\n\nBack to Indexing\nWhen you index by condition, the index should generally be congruent to the object you’re indexing. Elements where the index is TRUE are kept and elements where the index is FALSE are dropped.\nIf you create the index from a condition on the object, it’s automatically congruent. For instance, let’s make a condition based on the vector x:\n\nis_small = x &lt; 25\nis_small\n\n    a     b     c     d     e \n TRUE  TRUE FALSE FALSE FALSE \n\n\nThe 1st element in the logical vector is_small corresponds to the 1st element of x, the 2nd to the 2nd, and so on. The vectors x and is_small are congruent.\nIt makes sense to use is_small as an index for x, and it gives us all the elements less than 25:\n\nx[is_small]\n\n a  b \n10 20 \n\n\nOf course, you can also avoid using an intermediate variable for the condition:\n\nx[x &gt; 10]\n\n b  c  d  e \n20 30 40 50 \n\n\nIf you create index some other way (not using the object), make sure that it’s still congruent to the object. Otherwise, the subset returned from indexing might not be meaningful.\nYou can also use indexing by condition to set elements, just as the other ways of indexing can be used to set elements. For instance, let’s set all the elements of x that are greater than 10 to the missing value NA:\n\nx[x &gt; 10] = NA\nx\n\n a  b  c  d  e \n10 NA NA NA NA \n\n\n\n\n\n2.4.5 Logic\nAll of the conditions we’ve seen so far have been written in terms of a single test. If you want to use more sophisticated conditions, R provides operators to negate and combine logical vectors. These operators are useful for working with logical vectors even outside the context of indexing.\n\nNegation\nThe NOT operator ! converts TRUE to FALSE and FALSE to TRUE:\n\nx = c(TRUE, FALSE, TRUE, TRUE, NA)\nx\n\n[1]  TRUE FALSE  TRUE  TRUE    NA\n\n!x\n\n[1] FALSE  TRUE FALSE FALSE    NA\n\n\nYou can use ! with a condition:\n\ny = c(\"hi\", \"hello\")\n!(y == \"hi\")\n\n[1] FALSE  TRUE\n\n\nThe NOT operator is vectorized.\n\n\nCombinations\nR also has operators for combining logical values.\nThe AND operator & returns TRUE only when both arguments are TRUE. Here are some examples:\n\nFALSE & FALSE\n\n[1] FALSE\n\nTRUE & FALSE\n\n[1] FALSE\n\nFALSE & TRUE\n\n[1] FALSE\n\nTRUE & TRUE\n\n[1] TRUE\n\nc(TRUE, FALSE, TRUE) & c(TRUE, TRUE, FALSE)\n\n[1]  TRUE FALSE FALSE\n\n\nThe OR operator | returns TRUE when at least one argument is TRUE. Let’s see some examples:\n\nFALSE | FALSE\n\n[1] FALSE\n\nTRUE | FALSE\n\n[1] TRUE\n\nFALSE | TRUE\n\n[1] TRUE\n\nTRUE | TRUE\n\n[1] TRUE\n\nc(TRUE, FALSE) | c(TRUE, TRUE)\n\n[1] TRUE TRUE\n\n\nBe careful: everyday English is less precise than logic. You might say:\n\nI want all subjects with age over 50 and all subjects that like cats.\n\nBut in logic this means:\n(subject age over 50) OR (subject likes cats)\nSo think carefully about whether you need both conditions to be true (AND) or at least one (OR).\nRarely, you might want exactly one condition to be true. The XOR (eXclusive OR) function xor() returns TRUE when exactly one argument is TRUE. For example:\n\nxor(FALSE, FALSE)\n\n[1] FALSE\n\nxor(TRUE, FALSE)\n\n[1] TRUE\n\nxor(TRUE, TRUE)\n\n[1] FALSE\n\n\nThe AND, OR, and XOR operators are vectorized.\n\n\nShort-circuiting\nThe second argument is irrelevant in some conditions:\n\nFALSE & is always FALSE\nTRUE | is always TRUE\n\nNow imagine you have FALSE & long_computation(). You can save time by skipping long_computation(). A short-circuit operator does exactly that.\nR has two short-circuit operators:\n\n&& is a short-circuited &\n|| is a short-circuited |\n\nThese operators only evaluate the second argument if it is necessary to determine the result. Here are some of these:\n\nTRUE && FALSE\n\n[1] FALSE\n\nTRUE && TRUE\n\n[1] TRUE\n\nTRUE || TRUE\n\n[1] TRUE\n\n\nThe short-circuit operators are not vectorized—they only accept length-1 arguments:\n\nc(TRUE, FALSE) && c(TRUE, TRUE)\n\nError in c(TRUE, FALSE) && c(TRUE, TRUE): 'length = 2' in coercion to 'logical(1)'\n\n\nBecause of this, you can’t use short-circuit operators for indexing. Their main use is in writing conditions for if-expressions, which we’ll learn about later on.\n\n\n\n\n\n\nNote\n\n\n\nPrior to R 4.3.0, short-circuit operators didn’t raise an error for inputs with length greater than 1 (and thus were a common source of bugs).",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data Structures</span>"
    ]
  },
  {
    "objectID": "chapters/02_data-structures.html#exercises",
    "href": "chapters/02_data-structures.html#exercises",
    "title": "2  Data Structures",
    "section": "2.5 Exercises",
    "text": "2.5 Exercises\n\n2.5.1 Exercise\nThe rep function is another way to create a vector. Read the help file for the rep function.\n\nWhat does the rep function do to create a vector? Give an example.\nThe rep function has parameters times and each. What does each do, and how do they differ? Give examples for both.\nCan you set both of times and each in a single call to rep? If the function raises an error, explain what the error message means. If the function returns a result, explain how the result corresponds to the arguments you chose.\n\n\n\n2.5.2 Exercise\nConsidering how implicit coercion works (Section 2.2.2):\n\nWhy does \"3\" + 4 raise an error?\nWhy does \"TRUE\" == TRUE return TRUE?\nWhy does \"FALSE\" &lt; TRUE return TRUE?\n\n\n\n2.5.3 Exercise\n\nSection 2.3.1 described the missing value as a “chameleon” because it can have many different types. Is Inf also a chameleon? Use examples to justify your answer.\nThe missing value is also “contagious” because using it as an argument usually produces another missing value. Is Inf contagious? Again, use examples to justify your answer.\n\n\n\n2.5.4 Exercise\nThe table function is useful for counting all sorts of things, not just level frequencies for a factor. For instance, you can use table to count how many TRUE and FALSE values there are in a logical vector.\n\nFor the banknotes data, how many bills have value below 1,000?\nHow many bills with value above 1,000 depict women?",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data Structures</span>"
    ]
  },
  {
    "objectID": "chapters/03_exploring-data.html",
    "href": "chapters/03_exploring-data.html",
    "title": "3  Exploring Data",
    "section": "",
    "text": "3.1 Indexing Data Frames\nNow that you have a solid foundation in the basic functions and data structures of R, you can move on to its most popular application: data analysis. In this chapter, you’ll learn how to efficiently explore and summarize data with visualizations and statistics. Along the way, you’ll also learn how to use apply functions, which are essential to fluency in R.\nThis section explains how to get and set data in a data frame, expanding on the indexing techniques you learned in Section 2.4. Under the hood, every data frame is a list, so first you’ll learn about indexing lists.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Exploring Data</span>"
    ]
  },
  {
    "objectID": "chapters/03_exploring-data.html#indexing-data-frames",
    "href": "chapters/03_exploring-data.html#indexing-data-frames",
    "title": "3  Exploring Data",
    "section": "",
    "text": "3.1.1 Indexing Lists\nLists are a container for other types of R objects. When you select an element from a list, you can either keep the container (the list) or discard it. The indexing operator [ almost always keeps containers.\nAs an example, let’s get some elements from a small list:\n\nx = list(first = c(1, 2, 3), second = sin, third = c(\"hi\", \"hello\"))\ny = x[c(1, 3)]\ny\n\n$first\n[1] 1 2 3\n\n$third\n[1] \"hi\"    \"hello\"\n\nclass(y)\n\n[1] \"list\"\n\n\nThe result is still a list. Even if we get just one element, the result of indexing a list with [ is a list:\n\nclass(x[1])\n\n[1] \"list\"\n\n\nSometimes this will be exactly what we want. But what if we want to get the first element of x so that we can use it in a vectorized function? Or in a function that only accepts numeric arguments? We need to somehow get the element and discard the container.\nThe solution to this problem is the extraction operator [[, which is also called the double square bracket operator. The extraction operator is the primary way to get and set elements of lists and other containers.\nUnlike the indexing operator [, the extraction operator always discards the container:\n\nx[[1]]\n\n[1] 1 2 3\n\nclass(x[[1]])\n\n[1] \"numeric\"\n\n\nThe tradeoff is that the extraction operator can only get or set one element at a time. Note that the element can be a vector, as above. Because it can only get or set one element at a time, the extraction operator can only index by position or name. Blank and logical indexes are not allowed.\nThe final difference between the index operator [ and the extraction operator [[ has to do with how they handle invalid indexes. The index operator [ returns NA for invalid vector elements, and NULL for invalid list elements:\n\nc(1, 2)[10]\n\n[1] NA\n\nx[10]\n\n$&lt;NA&gt;\nNULL\n\n\nOn the other hand, the extraction operator [[ raises an error for invalid elements:\n\nx[[10]]\n\nError in x[[10]]: subscript out of bounds\n\n\nThe indexing operator [ and the extraction operator [[ both work with any data structure that has elements. However, you’ll generally use the indexing operator [ to index vectors, and the extraction operator [[ to index containers (such as lists).\n\n\n3.1.2 Two-dimensional Indexing\nFor two-dimensional objects, like matrices and data frames, you can pass the indexing operator [ or the extraction operator [[ a separate index for each dimension. The rows come first:\nDATA[ROWS, COLUMNS]\nFor instance, let’s get the first 3 rows and all columns of the banknotes data:\n\nbanknotes[1:3, ]\n\n  currency_code   country    currency_name                       name gender\n1           ARS Argentina Argentinian Peso                  Eva Perón      F\n2           ARS Argentina Argentinian Peso       Julio Argentino Roca      M\n3           ARS Argentina Argentinian Peso Domingo Faustino Sarmiento      M\n  bill_count    profession known_for_being_first current_bill_value\n1          1      Activist                    No                100\n2          1 Head of Gov't                    No                100\n3          1 Head of Gov't                    No                 50\n  prop_total_bills first_appearance_year death_year comments hover_text\n1               NA                  2012       1952                    \n2               NA                  1988       1914                    \n3               NA                  1999       1888                    \n  has_portrait            id scaled_bill_value\n1         true     ARS_Evita         1.0000000\n2         true ARS_Argentino         1.0000000\n3         true   ARS_Domingo         0.4444444\n\n\nAs we saw in Section 2.4.1, leaving an index blank means all elements.\nAs another example, let’s get the 3rd and 5th row, and the 2nd and 4th column:\n\nbanknotes[c(3, 5), c(2, 4)]\n\n    country                       name\n3 Argentina Domingo Faustino Sarmiento\n5 Argentina            Manuel Belgrano\n\n\nMixing several different ways of indexing is allowed. So for example, we can get the same above, but use column names instead of positions:\n\nbanknotes[c(3, 5), c(\"currency_name\", \"name\")]\n\n     currency_name                       name\n3 Argentinian Peso Domingo Faustino Sarmiento\n5 Argentinian Peso            Manuel Belgrano\n\n\nFor data frames, it’s especially common to index the rows by condition and the columns by name. For instance, let’s get the name and profession columns for all women in the banknotes data set:\n\nresult = banknotes[banknotes$gender == \"F\", c(\"name\", \"profession\")]\nhead(result)\n\n                 name profession\n1           Eva Perón   Activist\n7        Mary Gilmore     Writer\n10        Edith Cowan Politician\n11       Nellie Melba   Musician\n13        Mary Reibey      Other\n14 Queen Elizabeth II    Monarch\n\n\nAlso see Section 5.2 for a case where the [ operator behaves in a surprising way.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Exploring Data</span>"
    ]
  },
  {
    "objectID": "chapters/03_exploring-data.html#sec-packages",
    "href": "chapters/03_exploring-data.html#sec-packages",
    "title": "3  Exploring Data",
    "section": "3.2 Packages",
    "text": "3.2 Packages\nA package is a collection of functions for use in R. Packages usually include documentation, and can also contain examples, vignettes, and data sets. Most packages are developed by members of the R community, so quality varies. There are also a few packages that are built into R but provide extra features. We’ll use a package in Section 3.3, so we’re learning about them now.\nThe Comprehensive R Archive Network, or CRAN, is the main place people publish packages. As of writing, there were 18,619 packages posted to CRAN. This number has been steadily increasing as R has grown in popularity.\nPackages span a wide variety of topics and disciplines. There are packages related to statistics, social sciences, geography, genetics, physics, biology, pharmacology, economics, agriculture, and more. The best way to find packages is to search online, but the CRAN website also provides “task views” if you want to browse popular packages related to a specific discipline.\nThe install.packages function installs one or more packages from CRAN. Its first argument is the packages to install, as a character vector.\nWhen you run install.packages, R will ask you to choose which mirror to download the package from. A mirror is a web server that has the same set of files as some other server. Mirrors are used to make downloads faster and to provide redundancy so that if a server stops working, files are still available somewhere else. CRAN has dozens of mirrors; you should choose one that’s geographically nearby, since that usually produces the best download speeds. If you aren’t sure which mirror to choose, you can use the 0-Cloud mirror, which attempts to automatically choose a mirror near you.\nAs an example, here’s the code to install the remotes package:\n\ninstall.packages(\"remotes\")\n\nIf you run the code above, you’ll be asked to select a mirror, and then see output that looks something like this:\n--- Please select a CRAN mirror for use in this session ---\ntrying URL 'https://cloud.r-project.org/src/contrib/remotes_2.3.0.tar.gz'\nContent type 'application/x-gzip' length 148405 bytes (144 KB)\n==================================================\ndownloaded 144 KB\n\n* installing *source* package ‘remotes’ ...\n** package ‘remotes’ successfully unpacked and MD5 sums checked\n** using staged installation\n** R\n** inst\n** byte-compile and prepare package for lazy loading\n** help\n*** installing help indices\n** building package indices\n** installing vignettes\n** testing if installed package can be loaded from temporary location\n** testing if installed package can be loaded from final location\n** testing if installed package keeps a record of temporary installation path\n* DONE (remotes)\n\nThe downloaded source packages are in\n        ‘/tmp/Rtmp8t6iGa/downloaded_packages’\nR goes through a variety of steps to install a package, even installing other packages that the package depends on. You can tell that a package installation succeeded by the final line DONE. When a package installation fails, R prints an error message explaining the problem instead.\nOnce a package is installed, it stays on your computer until you remove it or remove R. This means you only need to install each package once. However, most packages are periodically updated. You can reinstall a package using install.packages the same way as above to get the latest version.\nAlternatively, you can update all of the R packages you have installed at once by calling the update.packages function. Beware that this may take a long time if you have a lot of packages installed.\nThe function to remove packages is remove.packages. Like install.packages, this function’s first argument is the packages to remove, as a character vector.\nIf you want to see which packages are installed, you can use the installed.packages function. It does not require any arguments. It returns a matrix with one row for each package and columns that contain a variety of information. Here’s an example:\n\npackages = installed.packages()\n# Just print the version numbers for 10 packages.\npackages[1:10, \"Version\"]\n\n     abind        ape    askpass assertthat  backports  base64enc         BH \n   \"1.4-5\"      \"5.8\"    \"1.2.0\"    \"0.2.1\"    \"1.4.1\"    \"0.1-3\" \"1.84.0-0\" \n       bit      bit64     bitops \n   \"4.0.5\"    \"4.0.5\"    \"1.0-7\" \n\n\nYou’ll see a different set of packages, since you have a different computer.\nBefore you can use the functions (or other resources) in an installed package, you must load the package with the library function. R doesn’t load packages automatically because each package you load uses memory and may conflict with other packages. Thus you should only load the packages you need for whatever it is that you want to do. When you restart R, the loaded packages are cleared and you must again load any packages you want to use.\nLet’s load the remotes package we installed earlier:\n\nlibrary(\"remotes\")\n\nThe library function works with or without quotes around the package name, so you may also see people write things like library(remotes). We recommend using quotes to make it unambiguous that you are not referring to a variable.\nA handful of packages print out a message when loaded, but the vast majority do not. Thus you can assume the call to library was successful if nothing is printed. If something goes wrong while loading a package, R will print out an error message explaining the problem.\nFinally, not all R packages are published to CRAN. GitHub is another popular place to publish R packages, especially ones that are experimental or still in development. Unlike CRAN, GitHub is a general-purpose website for publishing code written in any programming language, so it contains much more than just R packages and is not specifically R-focused.\nThe remotes package that we just installed and loaded provides functions to install packages from GitHub. It is generally better to install packages from CRAN when they are available there, since the versions on CRAN tend to be more stable and intended for a wide audience. However, if you want to install a package from GitHub, you can learn more about the remotes package by reading its online documentation.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Exploring Data</span>"
    ]
  },
  {
    "objectID": "chapters/03_exploring-data.html#sec-data-visualization",
    "href": "chapters/03_exploring-data.html#sec-data-visualization",
    "title": "3  Exploring Data",
    "section": "3.3 Data Visualization",
    "text": "3.3 Data Visualization\nThere are three popular systems for creating visualizations in R:\n\nThe base R functions (primarily the plot function)\nThe lattice package\nThe ggplot2 package\n\nThese three systems are not interoperable! Consequently, it’s best to choose one to use exclusively. Compared to base R, both lattice and ggplot2 are better at handling grouped data and generally require less code to create a nice-looking visualization.\nThe ggplot2 package is so popular that there are now knockoff packages for other data-science-oriented programming languages like Python and Julia. The package is also part of the Tidyverse, a popular collection of R packages designed to work well together. Because of these advantages, we’ll use ggplot2 for visualizations in this and all future lessons.\nggplot2 has detailed documentation and also a cheatsheet.\nThe “gg” in ggplot2 stands for grammar of graphics. The idea of a grammar of graphics is that visualizations can be built up in layers. In ggplot2, the three layers every plot must have are:\n\nData\nGeometry\nAesthetics\n\nThere are also several optional layers. Here are a few:\n\n\n\nLayer\nDescription\n\n\n\n\nscales\nTitle, label, and axis value settings\n\n\nfacets\nSide-by-side plots\n\n\nguides\nAxis and legend position settings\n\n\nannotations\nShapes that are not mapped to data\n\n\ncoordinates\nCoordinate systems (Cartesian, logarithmic, polar)\n\n\n\nAs an example, let’s plot the banknotes data. First, we need to load ggplot2. As always, if this is your first time using the package, you’ll have to install it. Then you can load the package:\n\n# install.packages(\"ggplot2\")\nlibrary(\"ggplot2\")\n\nWhat kind of plot should we make? It depends on what we want to know about the data set. Suppose we want to understand the relationship between a banknote’s value and how long ago the person on the banknote died, as well as whether this is affected by gender. One way to show this is to make a scatter plot.\n\nBefore plotting, we need to make sure that the death_year column is numeric:\n\nis_blank = banknotes$death_year %in% c(\"\", \"-\")\nbanknotes$death_year[is_blank] = NA\nbanknotes$death_year = as.numeric(banknotes$death_year)\n\nNow we’re ready to make the plot.\n\n3.3.1 Layer 1: Data\nThe data layer determines the data set used to make the plot. ggplot and most other Tidyverse packages are designed for working with tidy data frames. Tidy means:\n\nEach observation has its own row.\nEach feature has its own column.\nEach value has its own cell.\n\nTidy data sets are convenient in general. A later lesson will cover how to make an untidy data set tidy. Until then, we’ll take it for granted that the data sets we work with are tidy.\nTo set up the data layer, call the ggplot function on a data frame:\n\nggplot(banknotes)\n\n\n\n\n\n\n\n\nThis returns a blank plot. We still need to add a few more layers.\n\n\n3.3.2 Layer 2: Geometry\nThe geometry layer determines the shape or appearance of the visual elements of the plot. In other words, the geometry layer determines what kind of plot to make: one with points, lines, boxes, or something else.\nThere are many different geometries available in ggplot2. The package provides a function for each geometry, always prefixed with geom_.\nTo add a geometry layer to the plot, choose the geom_ function you want and add it to the plot with the + operator:\n\nggplot(banknotes) + geom_point()\n\nError in `geom_point()`:\n! Problem while setting up geom.\nℹ Error occurred in the 1st layer.\nCaused by error in `compute_geom_1()`:\n! `geom_point()` requires the following missing aesthetics: x and y.\n\n\nThis returns an error message that we’re missing aesthetics x and y. We’ll learn more about aesthetics in the next section, but this error message is especially helpful: it tells us exactly what we’re missing. When you use a geometry you’re unfamiliar with, it can be helpful to run the code for just the data and geometry layer like this, to see exactly which aesthetics need to be set.\nAs we’ll see later, it’s possible to add multiple geometries to a plot.\n\n\n3.3.3 Layer 3: Aesthetics\nThe aesthetic layer determines the relationship between the data and the geometry. Use the aesthetic layer to map features in the data to aesthetics (visual elements) of the geometry.\nThe aes function creates an aesthetic layer. The syntax is:\naes(AESTHETIC = FEATURE, ...)\nThe names of the aesthetics depend on the geometry, but some common ones are x, y, color, fill, shape, and size. There is more information about and examples of aesthetic names in the documentation.\nFor example, we want to put death_year on the x-axis and scaled_bill_value on the y-axis. It’s best to use scaled_bill_value here rather than current_bill_value because the different countries use different scales of currency. For example, 1 United States Dollar is worth approximately 100 Japanese Yen. So the aesthetic layer should be:\n\nggplot(banknotes) +\n  geom_point() +\n  aes(x = death_year, y = scaled_bill_value)\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nIn the aes function, column names are never quoted. In older versions of ggplot2, you must pass the aesthetic layer as the second argument of the ggplot function rather than using + to add it to the plot. This syntax is still widely used:\n\nggplot(banknotes, aes(x = death_year, y = scaled_bill_value)) +\n  geom_point()\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\nPer-geometry Aesthetics\nWhen you add the aesthetic layer or pass it to the ggplot function, it applies to the entire plot. You can also set an aesthetic layer individually for each geometry, by passing the layer as the first argument in the geom_ function:\n\nggplot(banknotes) +\n  geom_point(aes(x = death_year, y = scaled_bill_value))\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nThis is really only useful when you have multiple geometries. As an example, let’s color-code the points by gender:\n\nggplot(banknotes) +\n  geom_point(aes(x = death_year, y = scaled_bill_value, color = gender))\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nNow let’s also add labels to each point. To do this, we need to add another geometry:\n\nggplot(banknotes) +\n  geom_point() +\n  aes(x = death_year, y = scaled_bill_value, color = gender, label = name) +\n  geom_text()\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_text()`).\n\n\n\n\n\n\n\n\n\nWhere we put the aesthetics matters:\n\nggplot(banknotes) +\n  geom_point() +\n  aes(x = death_year, y = scaled_bill_value, label = name) +\n  geom_text(aes(color = gender))\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_text()`).\n\n\n\n\n\n\n\n\n\n\n\nConstant Aesthetics\nIf you want to set an aesthetic to a constant value, rather than one that’s data dependent, do so in the geometry layer rather than the aesthetic layer. For instance, suppose use point shape rather than color to indicate gender, and we want to make all of the points blue:\n\nggplot(banknotes) +\n  geom_point(color = \"blue\") +\n  aes(x = death_year, y = scaled_bill_value, shape = gender)\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nIf you set an aesthetic to a constant value inside of the aesthetic layer, the results you get might not be what you expect:\n\nggplot(banknotes) +\n  geom_point() +\n  aes(x = death_year, y = scaled_bill_value, shape = gender, color = \"blue\")\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n\n\n3.3.4 Layer 4: Scales\nThe scales layer controls the title, axis labels, and axis scales of the plot. Most of the functions in the scales layer are prefixed with scale_, but not all of them.\nThe labs function is especially important, because it’s used to set the title and axis labels:\n\nggplot(banknotes) +\n  geom_point() +\n  aes(x = death_year, y = scaled_bill_value, shape = gender) +\n  labs(x = \"Death Year\", y = \"Scaled Bill Value\",\n    title = \"Does death year affect bill value?\", shape = \"Gender\")\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n\n3.3.5 Saving Plots\nIn ggplot2, use the ggsave function to save the most recent plot you created:\n\nggsave(\"banknote_scatter.png\")\n\nThe file format is selected automatically based on the extension. Common formats are PNG and PDF.\n\nThe Plot Device\nYou can also save a plot with one of R’s “plot device” functions. The steps are:\n\nCall a plot device function: png, jpeg, pdf, bmp, tiff, or svg.\nRun your code to make the plot.\nCall dev.off to indicate that you’re done plotting.\n\nThis strategy works with any of R’s graphics systems (not just ggplot2).\nHere’s an example:\n\n# Run these lines in the console, not the notebook!\njpeg(\"banknote_scatter.jpeg\")\nggplot(banknotes) +\n  geom_point() +\n  aes(x = death_year, y = scaled_bill_value, shape = gender) +\n  labs(x = \"Death Year\", y = \"Scaled Bill Value\",\n    title = \"Does death year affect bill value?\", shape = \"Gender\")\ndev.off()\n\n\n\n\n3.3.6 Example: Bar Plot\nNow suppose you want to plot the number of banknotes with people from each profession in the banknotes data set. A bar plot is in an appropriate way to represent this visually.\nThe geometry for a bar plot is geom_bar. Since bar plots are mainly used to display frequencies, the geom_bar function automatically computes frequencies when given mapped to a categorical feature.\nWe can also use a fill color to further breakdown the bars by gender. Here’s the code to make the bar plot:\n\nggplot(banknotes) +\n  aes(x = profession, fill = gender) +\n  geom_bar(position = \"dodge\")\n\n\n\n\n\n\n\n\nThe setting position = \"dodge\" instructs geom_bar to put the bars side-by-side rather than stacking them.\nIn some cases, you may want to make a bar plot with frequencies you’ve already computed. To prevent geom_bar from computing frequencies automatically, set stat = \"identity\".\n\n\n3.3.7 Visualization Design\nDesigning high-quality visualizations goes beyond just mastering which R functions to call. You also need to think carefully about what kind of data you have and what message you want to convey. This section provides a few guidelines.\nThe first step in data visualization is choosing an appropriate kind of plot. Here are some suggestions (not rules):\n\n\n\nFeature 1\nFeature 2\nPlot\n\n\n\n\ncategorical\n\nbar, dot\n\n\ncategorical\ncategorical\nbar, dot, mosaic\n\n\nnumerical\n\nbox, density, histogram\n\n\nnumerical\ncategorical\nbox, density, ridge\n\n\nnumerical\nnumerical\nline, scatter, smooth scatter\n\n\n\nIf you want to add a:\n\n3rd numerical feature, use it to change point/line sizes.\n3rd categorical feature, use it to change point/line styles.\n4th categorical feature, use side-by-side plots.\n\nOnce you’ve selected a plot, here are some rules you should almost always follow:\n\nAlways add a title and axis labels. These should be in plain English, not variable names!\nSpecify units after the axis label if the axis has units. For instance, “Height (ft)”.\nDon’t forget that many people are colorblind! Also, plots are often printed in black and white. Use point and line styles to distinguish groups; color is optional.\nAdd a legend whenever you’ve used more than one point or line style.\nAlways write a few sentences explaining what the plot reveals. Don’t describe the plot, because the reader can just look at it. Instead, explain what they can learn from the plot and point out important details that are easily overlooked.\nSometimes points get plotted on top of each other. This is called overplotting. Plots with a lot of overplotting can be hard to read and can even misrepresent the data by hiding how many points are present. Use a two-dimensional density plot or jitter the points to deal with overplotting.\nFor side-by-side plots, use the same axis scales for both plots so that comparing them is not deceptive.\n\nVisualization design is a deep topic, and whole books have been written about it. One resource where you can learn more is DataLab’s Principles of Data Visualization Workshop Reader.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Exploring Data</span>"
    ]
  },
  {
    "objectID": "chapters/03_exploring-data.html#apply-functions",
    "href": "chapters/03_exploring-data.html#apply-functions",
    "title": "3  Exploring Data",
    "section": "3.4 Apply Functions",
    "text": "3.4 Apply Functions\nSection 2.1.3 introduced vectorization, a convenient and efficient way to compute multiple results. That section also mentioned that some of R’s functions—the ones that summarize or aggregate data—are not vectorized.\nThe class function is an example of a function that’s not vectorized. If we call the class function on the banknotes data set, we get just one result for the data set as a whole:\n\nclass(banknotes)\n\n[1] \"data.frame\"\n\n\nWhat if we want to get the class of each column? We can get the class for a single column by selecting the column with $, the dollar sign operator:\n\nclass(banknotes$currency_code)\n\n[1] \"character\"\n\n\nBut what if we want the classes for all the columns? We could write a call to class for each column, but that would be tedious. When you’re working with a programming language, you should try to avoid tedium; there’s usually a better, more automated way.\nSection 2.2.1 pointed out that data frames are technically lists, where each column is one element. With that in mind, what we need here is a line of code that calls class on each element of the data frame. The idea is similar to vectorization, but since we have a list and a non-vectorized function, we have to do a bit more than just call class(banknotes).\nThe lapply function calls, or applies, a function on each element of a list or vector. The syntax is:\nlapply(X, FUN, ...)\nThe function FUN is called once for each element of X, with the element as the first argument. The ... is for additional arguments to FUN, which are held constant across all the elements.\nLet’s try this out with the banknotes data and the class function:\n\nlapply(banknotes, class)\n\n$currency_code\n[1] \"character\"\n\n$country\n[1] \"character\"\n\n$currency_name\n[1] \"character\"\n\n$name\n[1] \"character\"\n\n$gender\n[1] \"character\"\n\n$bill_count\n[1] \"numeric\"\n\n$profession\n[1] \"character\"\n\n$known_for_being_first\n[1] \"character\"\n\n$current_bill_value\n[1] \"integer\"\n\n$prop_total_bills\n[1] \"numeric\"\n\n$first_appearance_year\n[1] \"integer\"\n\n$death_year\n[1] \"numeric\"\n\n$comments\n[1] \"character\"\n\n$hover_text\n[1] \"character\"\n\n$has_portrait\n[1] \"character\"\n\n$id\n[1] \"character\"\n\n$scaled_bill_value\n[1] \"numeric\"\n\n\nThe result is similar to if the class function was vectorized. In fact, if we use a vector and a vectorized function with lapply, the result is nearly identical to the result from vectorization:\n\nx = c(1, 2, pi)\n\nsin(x)\n\n[1] 8.414710e-01 9.092974e-01 1.224647e-16\n\nlapply(x, sin)\n\n[[1]]\n[1] 0.841471\n\n[[2]]\n[1] 0.9092974\n\n[[3]]\n[1] 1.224647e-16\n\n\nThe only difference is that the result from lapply is a list. In fact, the lapply function always returns a list with one element for each element of the input data. The “l” in lapply stands for “list”.\nThe lapply function is one member of a family of functions called apply functions. All of the apply functions provide ways to apply a function repeatedly to different parts of a data structure. We’ll meet a few more apply functions soon.\nWhen you have a choice between using vectorization or an apply function, you should always choose vectorization. Vectorization is clearer—compare the two lines of code above—and it’s also significantly more efficient. In fact, vectorization is the most efficient way to call a function repeatedly in R.\nAs we saw with the class function, there are some situations where vectorization is not possible. That’s when you should think about using an apply function.\n\n3.4.1 The sapply Function\nThe related sapply function calls a function on each element of a list or vector, and simplifies the result. That last part is the crucial difference compared to lapply. When results from the calls all have the same type and length, sapply returns a vector or matrix instead of a list. When the results have different types or lengths, the result is the same as for lapply. The “s” in sapply stands for “simplify”.\nFor instance, if we use sapply to find the classes of the columns in the banknotes data, we get a character vector:\n\nsapply(banknotes, class)\n\n        currency_code               country         currency_name \n          \"character\"           \"character\"           \"character\" \n                 name                gender            bill_count \n          \"character\"           \"character\"             \"numeric\" \n           profession known_for_being_first    current_bill_value \n          \"character\"           \"character\"             \"integer\" \n     prop_total_bills first_appearance_year            death_year \n            \"numeric\"             \"integer\"             \"numeric\" \n             comments            hover_text          has_portrait \n          \"character\"           \"character\"           \"character\" \n                   id     scaled_bill_value \n          \"character\"             \"numeric\" \n\n\nLikewise, if we use sapply to compute the sin values, we get a numeric vector, the same as from vectorization:\n\nsapply(x, sin)\n\n[1] 8.414710e-01 9.092974e-01 1.224647e-16\n\n\nIn spite of that, vectorization is still more efficient than sapply, so use vectorization instead when possible.\nApply functions are incredibly useful for summarizing data. For example, suppose we want to compute the frequencies for all of the columns in the banknotes data set that aren’t numeric.\nFirst, we need to identify the columns. One way to do this is with the is.numeric function. Despite the name, this function actually tests whether its argument is a real number, not whether it its argument is a numeric vector. In other words, it also returns true for integer values. We can use sapply to apply this function to all of the columns in the banknotes data set:\n\nis_not_number = !sapply(banknotes, is.numeric)\nis_not_number\n\n        currency_code               country         currency_name \n                 TRUE                  TRUE                  TRUE \n                 name                gender            bill_count \n                 TRUE                  TRUE                 FALSE \n           profession known_for_being_first    current_bill_value \n                 TRUE                  TRUE                 FALSE \n     prop_total_bills first_appearance_year            death_year \n                FALSE                 FALSE                 FALSE \n             comments            hover_text          has_portrait \n                 TRUE                  TRUE                  TRUE \n                   id     scaled_bill_value \n                 TRUE                 FALSE \n\n\nIs it worth using R code to identify the non-numeric columns? Since there are only 17 columns in the banknotes data set, maybe not. But if the data set was larger, with say 100 columns, it definitely would be.\nIn general, it’s a good habit to use R to do things rather than do them manually. You’ll get more practice programming, and your code will be more flexible if you want to adapt it to other data sets.\nNow that we know which columns are non-numeric, we can use the table function to compute frequencies. We only want to compute frequencies for those columns, so we need to subset the data:\n\nlapply(banknotes[, is_not_number], table)\n\n$currency_code\n\nARS AUD BDT BOB CAD CLP COP CRC CVE CZK DOP GBP GEL IDR ILS ISK JMD JPY KGS KRW \n  5   9   9  15   9   5  11   6   5   6  11   8   9  12   4   5   5   3   7   4 \nMWK MXN NGN NZD PEN PGK PHP RMB RSD SEK STD TND TRY UAH USD UYU VES​ VES ZAR \n  7  11   9   5   7   1   9   6   9   6   8   4  12  10   7   7   2   6   5 \n\n$country\n\n            Argentina             Australia            Bangladesh \n                    5                     9                     9 \n              Bolivia                Canada            Cape Verde \n                   15                     9                     5 \n                Chile                 China              Colombia \n                    5                     6                    11 \n           Costa Rica        Czech Republic    Dominican Republic \n                    6                     6                    11 \n              England               Georgia               Iceland \n                    8                     9                     5 \n            Indonesia                Israel               Jamaica \n                   12                     4                     5 \n                Japan            Kyrgyzstan                Malawi \n                    3                     7                     7 \n               Mexico           New Zealand               Nigeria \n                   11                     5                     9 \n     Papua New Guinea                  Peru           Philippines \n                    1                     7                     9 \nSão Tomé and Príncipe                Serbia          South Africa \n                    8                     9                     5 \n          South Korea                Sweden               Tunisia \n                    4                     6                     4 \n               Turkey               Ukraine         United States \n                   12                    10                     7 \n              Uruguay             Venezuela \n                    7                     8 \n\n$currency_name\n\n  Argentinian Peso  Australian Dollar          Boliviano    Canadian Dollar \n                 5                  9                 15                  9 \n      Chilean Peso     Colombian Peso              Colón       Czech koruna \n                 5                 11                  6                  6 \n             dobra             Escudo             hryvna    Jamaican dollar \n                 8                  5                 10                  5 \n              kina              Króna             Kwacha               lari \n                 1                  5                  7                  9 \n              Lira              naira New Zealand dollar    Peso dominicano \n                12                  9                  5                 11 \n     Peso mexicano      Peso uruguayo               piso              pound \n                11                  7                  9                  8 \n              rand           Renminbi             rupiah      Serbian dinar \n                 5                  6                 12                  9 \n            shekel                Sol                Som      Swedish krona \n                 4                  7                  7                  6 \n              Taka     Tunisian dinar          US dollar Venezuelan bolivar \n                 9                  4                  7                  8 \n               Won                Yen \n                 4                  3 \n\n$name\n\n               Abou el Kacem Chebbi                     Abraham Lincoln \n                                  1                                   1 \n           Abraham Valdelomar Pinto                      Agnes Macphail \n                                  1                                   1 \n                    Akaki Tsereteli                         Alan Turing \n                                  1                                   1 \n                    Alejo Calatayud                  Alexander Hamilton \n                                  1                                   1 \n            Alfonso López Michelsen             Alfredo González Flores \n                                  1                                   1 \n            Alfredo Vásquez Acevedo              Alhaji Aliyu Mai-Bornu \n                                  1                                   1 \n Alhaji Sir Abubarkar Tafawa Balewa             Alhaji Sir Ahmadu Bello \n                                  1                                   1 \n                     Alykul Osmonov                        Andrés Bello \n                                  1                                   1 \n                     Andrew Jackson               Antonio José de Sucre \n                                  1                                   2 \n                    Apiaguaiki Tüpa                       Apirana Ngata \n                                  1                                   1 \n            Aristides Maria Pereira                  Arturo Prat Chacón \n                                  1                                   1 \n                    Astrid Lindgren                        Aydın Sayılı \n                                  1                                   1 \n  Bangabandhu Sheikh Mujibur Rahman                      Banjo Paterson \n                                  9                                   1 \n                     Bartolina Sisa              Benigno S. Aquino, Jr. \n                                  1                                   1 \n                      Benito Juárez                   Benjamin Franklin \n                                  2                                   1 \n                     Birgit Nilsson                  Bogdan Khmelnitsky \n                                  1                                   1 \n                     Božena Němcová             Braulio Carrillo Colina \n                                  1                                   1 \n                        Bruno Racua                Brynjólfur Sveinsson \n                                  1                                   1 \n                          Cahit Arf              Carlos Lleras Restrepo \n                                  1                                   1 \n                      Carmen Serdán                       Cesária Évora \n                                  1                                   1 \n                         Charles IV               Chief Obafemi Awolowo \n                                  1                                   1 \n                       Codé Di Dona                   Corazon C. Aquino \n                                  1                                   1 \n                   Dag Hammarskiöld            Dámaso Antonio Larrañaga \n                                  1                                   1 \n                      David Unaipon                       Debora Arango \n                                  1                                   1 \n                       Diego Rivera               Diosdado P. Macapagal \n                                  1                                   1 \n               Djuanda Kartawidjaja          Domingo Faustino Sarmiento \n                                  1                                   1 \n                      Dorde Vajfert                     Dr. Alvan Ikoku \n                                  1                                   1 \n                  Dr. Clement Isong           Dr. Hastings Kamuzu Banda \n                                  1                                   1 \n                 Dr. Nnamdi Azikiwe                         Edith Cowan \n                                  1                                   1 \n                     Edmund Hillary                      Eduardo Fabini \n                                  1                                   1 \n                     Ema Destinnová                   Emilio Prud'Homme \n                                  1                                   1 \n                   Eustaquio Méndez                           Eva Perón \n                                  1                                   1 \n                        Evert Taube                     Ezequiel Zamora \n                                  1                                   1 \n                      Farhat Hached                   Fatma Aliye Topuz \n                                  1                                   1 \n               Francisco de Miranda        Francisco de Paula Santander \n                                  1                                   1 \n      Francisco del Rosario Sánchez                 Francisco I. Madero \n                                  1                                   1 \n            Francisco José Tenreiro                      Frans Kaisiepo \n                                  1                                   1 \n                  František Palacký                         Frida Kahlo \n                                  1                                   1 \n             Gabriel García Márquez                    Gabriela Mistral \n                                  1                                   1 \n           General Murtala Mohammed                       Genoveva Ríos \n                                  1                                   1 \n                  George Washington                    Gregorio Luperon \n                                  1                                   1 \n                        Greta Garbo                      GSSJ Ratulangi \n                                  1                                   1 \n                   Gusti Ngurah Rai                            Hannibal \n                                  1                                   1 \n         Henrique Teixeira de Sousa                     Hermila Galindo \n                                  1                                   1 \n                     Hideyo Noguchi                  Hryhoriy Skovoroda \n                                  1                                   1 \n                Hugh Lawson Shearer                      Ichiyo Higuchi \n                                  1                                   1 \n                       Idham Chalid               Ignacio Carrera Pinto \n                                  1                                   1 \n                  Ilia Chavchavadze                      Ingmar Bergman \n                                  1                                   1 \n      Inkosi ya Makhosi M'mbelwa II         Inkosi Ya Mokhosi Gomani II \n                                  1                                   1 \n   Itri (Buhurizade Mustafa Efendi)                         Ivan Franko \n                                  1                                   1 \n                        Ivan Mazepa                 Ivane Javakhishvili \n                                  1                                   1 \n                      J.M.W. Turner              James Federick Sangala \n                                  1                                   1 \n     James Gladstone (Akay-na-muka)                         Jane Austen \n                                  1                                   1 \n                Jóhannes S. Kjarval                   John A. Macdonald \n                                  1                                   1 \n                 John Amos Comenius                      Jón Sigurdsson \n                                  1                                   1 \n                 Jónas Hallgrímsson                       Jorge Barbosa \n                                  1                                   1 \n             Jorge Basadre Grohmann                Jorge Eliécer Gaitán \n                                  1                                   1 \n                       Jorge Isaacs                    José Abad Santos \n                                  1                                   1 \n    José Abelardo Quiñones Gonzales                 José Asunción Silva \n                                  1                                   1 \n                   José Félix Ribas                       José Figueres \n                                  1                                   1 \n          José Manuel Baca \"Cañoto\"                  José María Morelos \n                                  1                                   1 \n                  José Pedro Varela         José Rufino Reyes y Siancas \n                                  1                                   1 \n                 José Santos Vargas                       Josefa Camejo \n                                  1                                   1 \n               Josefa Llanes Escoda                        Jovan Cvijic \n                                  1                                   1 \n               Juan Manuel de Rosas                   Juan Pablo Duarte \n                                  1                                   1 \n        Juan Zorrilla de San Martín            Juana Azurduy de Padilla \n                                  1                                   1 \n                Juana de Ibarbourou                Julio Argentino Roca \n                                  1                                   1 \n              Julio Garavito Armero                     Jusup Balasagyn \n                                  1                                   1 \n  Kaikhosro (Kakutsa) Cholokashvili                       Kate Sheppard \n                                  1                                   1 \n                      Kemal Atatürk                          Kemaleddin \n                                  6                                   1 \n                      King David IV               King Sejong the Great \n                                  1                                   1 \n                    Kurmanjan Datka                          Ladi Kwali \n                                  1                                   1 \n                      Leah Goldberg                      Lesya Ukrainka \n                                  1                                   1 \n                    Manuel A. Roxas                     Manuel Belgrano \n                                  1                                   1 \n                   Manuel L. Quezon            Manuel Rodríguez Erdoyza \n                                  1                                   1 \n                         Mao Zedong María Isabel Carvajal (Carmen Lyra) \n                                  6                                   1 \n        María Isabel Granda y Larco                María Teresa Mirabal \n                                  1                                   1 \n                       Mary Gilmore                         Mary Reibey \n                                  1                                   1 \n                 Matías Ramón Mella               Mauro Fernández Acuña \n                                  1                                   1 \n              Michael Norman Manley                      Michael Somare \n                                  1                                   1 \n                     Miguel Hidalgo                  Milutin Milanković \n                                  1                                   1 \n                    Minerva Mirabal                      Mohammad Hatta \n                                  1                                   1 \n             Mohammad Husni Thamrin                 Mykhailo Hrusheskyi \n                                  1                                   1 \n                   Nadežda Petrović                Nanny of the Maroons \n                                  1                                   1 \n                    Nathan Alterman                        Nellie Melba \n                                  1                                   1 \n                     Nelson Mandela                      Nezahualcóyotl \n                                  5                                   1 \n               Niko Pirosmanashvili                        Nikola Tesla \n                                  1                                   1 \n               Oto Iskander Di Nata                 Pablo Zárate Willka \n                                  1                                   1 \n                     Patria Mirabal                        Pedro Figari \n                                  1                                   1 \n              Pedro Henriquez Ureña                 Pedro Ignacio Muiba \n                                  1                                   1 \n                       Pedro Paulet               Petar Petrovic Njegoš \n                                  1                                   1 \n             Policarpa Salavarrieta                     Prince Antasari \n                                  1                                   1 \n                 Queen Elizabeth II                         Queen Tamar \n                                  7                                   1 \n                   Rachel Bluwstein                     Rafael Urdaneta \n                                  1                                   1 \n              Ragnheiður Jónsdóttir             Raúl Porras Barrenechea \n                                  1                                   1 \n                         Rei Amador             Reverend John Chilembwe \n                                  7                                   2 \n                Reverend John Flynn            Ricardo Jiménez Oreamuno \n                                  1                                   1 \n           Rose Lomathinda Chibambo                Rutherford of Nelson \n                                  1                                   1 \n                       Salomé Ureña                       Samuel Sharpe \n                                  1                                   1 \n                 Santa Rosa de Lima                   Sayakbay Karalaev \n                                  1                                   1 \n                      Sergio Osmeña                Shaul Tchernichovsky \n                                  1                                   1 \n                      Shin Saimdang                     Shota Rustaveli \n                                  1                                   1 \n                      Simón Bolívar                     Simón Rodrigues \n                                  2                                   1 \n                Sir Donald Sangster          Sir George-Étienne Cartier \n                                  1                                   1 \n                    Sir John Monash                   Sir Robert Borden \n                                  1                                   1 \n                Sir Wilfrid Laurier                  Slobodan Jovanovic \n                                  1                                   1 \n                           Soekarno           Sor Juana Inés de la Cruz \n                                  1                                   1 \n        Stevan Stevanovic Mokranjac         Sultan Mahmud Badaruddin II \n                                  1                                   1 \n                Suymonkul Chokmorov                    Taras Shevchenko \n                                  1                                   1 \n                 Tewhida Ben Sheikh                    Thomas Jefferson \n                                  1                                   1 \n                        Tjut Meutia                       Togolok Moldo \n                                  1                                   1 \n                Toktogul Satylganov              Tomáš Garrigue Masaryk \n                                  1                                   1 \n                       Tomás Katari    Tupac Katari (Julian Apasa Nina) \n                                  1                                   1 \n                   Ulysses S. Grant                         Vicente Lim \n                                  1                                   1 \n                      Viola Desmond                  Virginia Gutiérrez \n                                  1                                   1 \n                Volodymyr the Great                Volodymyr Vernadskyi \n                                  1                                   1 \n            Vuk Stefanovic Karadžic         William Lyon Mackenzie King \n                                  1                                   1 \n                  Winston Churchill                   Yaroslav the Wise \n                                  1                                   1 \n                           Yi Hwang                                Yi I \n                                  1                                   1 \n                   Yukichi Fukuzawa                          Yunus Emre \n                                  1                                   1 \n                Zakaria Paliashvili \n                                  1 \n\n$gender\n\n  F   M \n 59 220 \n\n$profession\n\n        Activist         Educator          Founder    Head of Gov't \n               4                4               45               43 \n        Military          Monarch         Musician            Other \n              13               18               12                5 \n       Performer       Politician Religious figure    Revolutionary \n               3               27                3               28 \n            STEM    Visual Artist           Writer \n              16               13               45 \n\n$known_for_being_first\n\n No Yes \n185  94 \n\n$comments\n\n                                                                                                                                                                          \n                                                                                                                                                                      160 \n                                                                                                                            1st \"hetman of ukraine\", also military leader \n                                                                                                                                                                        1 \n                                                                                                            1st author of detective novels and modern poetry in Ukrainian \n                                                                                                                                                                        1 \n                                                                                                                 1st black state leader and 1st president of South Africa \n                                                                                                                                                                        5 \n                                                                                                               1st Chairman of the People's Republic of China (1954–1959) \n                                                                                                                                                                        1 \n                                                                                                                                             1st christian prince of Kiev \n                                                                                                                                                                        1 \n                                                                                                                               1st climber to summit Mt Everest. explorer \n                                                                                                                                                                        1 \n                                                                                                                 1st female minister in the independent Malawi government \n                                                                                                                                                                        1 \n                                                                                                              1st Filipino graduate of the US Military Academy West Point \n                                                                                                                                                                        1 \n                                                                                                                    1st Filipino head of gov't over the entire Philipines \n                                                                                                                                                                        1 \n                                                                                                                             1st french-canadian prime minister of canada \n                                                                                                                                                                        1 \n                                                                                                                                     1st indigeneous Governer of the Bank \n                                                                                                                                                                        1 \n                                                                                                                                                 1st Indonesian president \n                                                                                                                                                                        1 \n                                                                                                                                            1st Indonesian vice-president \n                                                                                                                                                                        1 \n                                                                                                                      1st Maori to graduate from a New Zealand university \n                                                                                                                                                                        1 \n                                                                                                                     1st Mexican to have their art featured in the Louvre \n                                                                                                                                                                        1 \n                                                                                                                                          1st Premier of Northern Nigeria \n                                                                                                                                                                        1 \n                                                                                                                           1st President and 1st Prime Minister of Malawi \n                                                                                                                                                                        1 \n                                                                                                                                                 1st president of Bolivia \n                                                                                                                                                                        1 \n                                                                                                                             1st president of Federal Republic of Nigeria \n                                                                                                                                                                        1 \n                                                                                                                                  1st president of independent Philipines \n                                                                                                                                                                        1 \n                                                                                              1st president of indigenous origin. also on the 20 pesos bill from Series F \n                                                                                                                                                                        2 \n                                                                                                                                                     1st president of USA \n                                                                                                                                                                        1 \n                                                                                                                                    1st prime minister after independence \n                                                                                                                                                                        1 \n                                                                                                                                             1st prime minister of canada \n                                                                                                                                                                        1 \n                                                                                                                                1st prime minister of independent Nigeria \n                                                                                                                                                                        1 \n                                                                                                                                            1st secretary of the treasury \n                                                                                                                                                                        1 \n                                                                                                                                                1st US secretary of state \n                                                                                                                                                                        1 \n                                                                                          1st Visayan person to be president. 1st speaker of the House of Representatives \n                                                                                                                                                                        1 \n                                                                      Alleged first person to build a liquid-propellant rocket engine and modern rocket propulsion system \n                                                                                                                                                                        1 \n                                                                                                 also an author, president of Central Rada (Soviet) and national activist \n                                                                                                                                                                        1 \n                                                                                                   also known for being politicaly active, but not holding elected office \n                                                                                                                                                                        1 \n                                                                                                                                                also known for his poetry \n                                                                                                                                                                        1 \n                                                                                                                                  also on the 50 pesos bill from Series F \n                                                                                                                                                                        1 \n                                                                                                                                   Came up with the first Argentine flag. \n                                                                                                                                                                        1 \n                                                                                                                                            Canada's first labor minister \n                                                                                                                                                                        1 \n                                                                                                                                       cannot find info about this person \n                                                                                                                                                                        1 \n                                                                                                                                   Composed music for the national anthem \n                                                                                                                                                                        1 \n                                                                                                                      Composer. was part of Serbia's first string quartet \n                                                                                                                                                                        1 \n                                                                                                                                             considered 1st national hero \n                                                                                                                                                                        1 \n                                                                                                    elected \"Hetman of Zaporizhian Host\" . also served as military leader \n                                                                                                                                                                        1 \n                                                                                               elected the first civilian Governor of Cross River State from 1979 to 1983 \n                                                                                                                                                                        1 \n                                                            entitled Datka (meaning \"Righteous Ruler\") of her people. also ran away from her first husband, which is rare \n                                                                                                                                                                        1 \n                                                                                                                                     First catholic saint of the Americas \n                                                                                                                                                                        1 \n                                                                                                                      First Colombian to win a Nobel Prize for Literature \n                                                                                                                                                                        1 \n                                                                                                                                             First female Muslim novelist \n                                                                                                                                                                        1 \n                                                                                                                                    First female president in Phillipines \n                                                                                                                                                                        1 \n                                                                                                                       First King of Bohemia to become Holy Roman Emperor \n                                                                                                                                                                        1 \n                                                                                                                        first modern tunisian woman to become a physician \n                                                                                                                                                                        1 \n                                                                                                                                            First president of Cape Verde \n                                                                                                                                                                        1 \n                                                                                                                                  First president of Colombia and Bolivia \n                                                                                                                                                                        1 \n                                                                                                                                        First president of Czechoslovakia \n                                                                                                                                                                        1 \n                                                                                                    First president of the Republic of New Granada (present-day Colombia) \n                                                                                                                                                                        1 \n                                                                                                          First rector of Universidad de Chile. Wrote Chilean Civil Code. \n                                                                                                                                                                        1 \n                                                                                      First to promote and write about free and universal elementary schooling in Uruguay \n                                                                                                                                                                        1 \n                                                                                 first United States Postmaster General, first United States Ambassador to France, etc... \n                                                                                                                                                                        1 \n                                                                                                                                   Founded Uruguay's first public library \n                                                                                                                                                                        1 \n                                                                    Founder of Bangladesh who served as the first President and later as the Prime Minister of Bangladesh \n                                                                                                                                                                        9 \n                                                                                                                 Founder of Georgia's first regular university in Tbilisi \n                                                                                                                                                                        1 \nFounder of the country's first Montessori school. She was a co-founder of the Communist Party of Costa Rica, as well as one of the country's first female worker's unions \n                                                                                                                                                                        1 \n                                                                                                                          Frst constitutionally elected leader of Bolivia \n                                                                                                                                                                        2 \n                                                                                       Given the honorary title of \"La Primera Mujer Congresista\" by Adolfo Ruiz Cortines \n                                                                                                                                                                        1 \n    He also wrote the first-ever programming manual, and his programming system was used in the Ferranti Mark I, the first marketable electronic digital computer (1951). \n                                                                                                                                                                        1 \n                                                                                      he is on the face of all the banknotes. the other people are on the oppposite sides \n                                                                                                                                                                        6 \n                                                                                                                                              known as Rachel the Poetess \n                                                                                                                                                                        1 \n                                                                                known for campaigning for women's suffrage and founder of the girls scouts in phillipines \n                                                                                                                                                                        1 \n                                                                                                      Known for organizing an uprising against the colonial British rule. \n                                                                                                                                                                        2 \n                                                                                                                                                    leader of the Maroons \n                                                                                                                                                                        1 \n                                                                                                           National Council of Women (NCW) and became its first president \n                                                                                                                                                                        1 \n                                                                                                                                                            national hero \n                                                                                                                                                                        3 \n                                                                                                       nobel prize winning author. also in the military and a politician. \n                                                                                                                                                                        1 \n                                                                   organized meetings for slaves. hanged for expressing concerns about British rule that lead to a revolt \n                                                                                                                                                                        1 \n                                                                                                                                            Shares face with other people \n                                                                                                                                                                        1 \n                                                                                                     Shares face with other people. First Senator of First Nations origin \n                                                                                                                                                                        1 \n                                                                                           Shares face with other people. The country's first female Member of Parliament \n                                                                                                                                                                        1 \n                                                                                                                                               Shares with another person \n                                                                                                                                                                        2 \n                                                                                                                               Shares with another person. businessperson \n                                                                                                                                                                        1 \n                                                                        Shares with another person. Founded Royal Flying Doctor Service, the world's first air ambulance. \n                                                                                                                                                                        1 \n      Shares with another person. In 1927 when his book of Aboriginal legends, Hurgarrda was published, he became the first Australian Aboriginal writer to be published. \n                                                                                                                                                                        1 \n                            Shares with another person. She became the first person to be appointed Dame Commander of the British Empire for contributions to literature. \n                                                                                                                                                                        1 \n                                                          Shares with another person. She is best known as the first Australian woman to serve as a member of parliament. \n                                                                                                                                                                        1 \n                                                           Shares with another person. The first Australian to achieve international recognition as a classical musician. \n                                                                                                                                                                        1 \n                                                                                                        She was Japan's first prominent woman writer of modern literature \n                                                                                                                                                                        1 \n                                                                                                         She was South America's first ever Nobel Laureate in Literature. \n                                                                                                                                                                        1 \n                                                                                                                     STEM. 1st person from Oceania to win the Nobel prize \n                                                                                                                                                                        1 \n                                                                                                                            The first modern Icelandic short-story writer \n                                                                                                                                                                        1 \n                                                                                                                         The first woman to rule Georgia in her own right \n                                                                                                                                                                        1 \n                                                                                                                                              this might be legal tender. \n                                                                                                                                                                        1 \n                                                                     was acting President and Commander-in-chief for a short time, and Chief Justice of the Supreme Court \n                                                                                                                                                                        1 \n                                                                                                                    was governer of the national Bank of Serbia. explorer \n                                                                                                                                                                        1 \n                                                                                                                                     was prime minister for only 2 months \n                                                                                                                                                                        1 \n                                                                                                                                                Won the Nobel peace prize \n                                                                                                                                                                        1 \n                                                                                                            writer, politician, diplomat and prime minister of Yugoslavia \n                                                                                                                                                                        1 \n                                                                                                                                Wrote first lyrics to the national anthem \n                                                                                                                                                                        1 \n                                                                                              wrote some of the most imporant Serbian literature. also a religious figure \n                                                                                                                                                                        1 \n                                                                                                                wrote the 1st dictionary in the reformed Serbian language \n                                                                                                                                                                        1 \n                                                                     Wrote the first Costa Rican General Code which set the foundations for the country's judicial system \n                                                                                                                                                                        1 \n\n$hover_text\n\n                                                                                                                                                      \n                                                                                                                                                  190 \n                                                  Alleged first person to build a liquid-propellant rocket engine and modern rocket propulsion system \n                                                                                                                                                    1 \n                                                                                     Composed music for the national anthem to the Dominican Republic \n                                                                                                                                                    1 \n                                                                                                            Considered first national hero of Nigeria \n                                                                                                                                                    1 \n                                                                                                                        Designed first Argentine flag \n                                                                                                                                                    1 \n                                                                                                   First Australian Aboriginal writer to be published \n                                                                                                                                                    1 \n                                                                       First Australian to achieve international recognition as a classical musician. \n                                                                                                                                                    1 \n                                                                                            First Australian woman to serve as a member of Parliament \n                                                                                                                                                    1 \n                                                                                      First author of detective novels and modern poetry in Ukrainian \n                                                                                                                                                    1 \n                                                                                         First Black state leader and first President of South Africa \n                                                                                                                                                    5 \n                                                                                                                 First Catholic saint of the Americas \n                                                                                                                                                    1 \n                                                                                                     First Chairman of the People's Republic of China \n                                                                                                                                                    6 \n                                                                                                                       First Christian Prince of Kiev \n                                                                                                                                                    1 \n                                                                                                         First civilian Governor of Cross River State \n                                                                                                                                                    1 \n                                                                                                                   First climber to summit Mt Everest \n                                                                                                                                                    1 \n                                                                                                  First Colombian to win a Nobel Prize for Literature \n                                                                                                                                                    1 \n                                                                                                     First constitutionally elected leader of Bolivia \n                                                                                                                                                    2 \n                                                                                                       First female member of the Canadian parliament \n                                                                                                                                                    1 \n                                                                                           First female minister in the independent Malawi government \n                                                                                                                                                    1 \n                                                                                                                         First female Muslim novelist \n                                                                                                                                                    1 \n                                                                                                                First female president in Phillipines \n                                                                                                                                                    1 \n                                                                                        First Filipino graduate of the US Military Academy West Point \n                                                                                                                                                    1 \n                                                                                              First Filipino head of gov't over the entire Philipines \n                                                                                                                                                    1 \n                                                                                                       First French-Canadian Prime Minister of Canada \n                                                                                                                                                    1 \n                                                                                                      First indigeneous Governor of the Nigerian Bank \n                                                                                                                                                    1 \n                                                                                                                           First Indonesian President \n                                                                                                                                                    1 \n                                                                                                                      First Indonesian Vice-President \n                                                                                                                                                    1 \n                                                                                                   First King of Bohemia to become Holy Roman Emperor \n                                                                                                                                                    1 \n                                                                                                                       First Labor Minister in Canada \n                                                                                                                                                    1 \n                                                                                                First Maori to graduate from a New Zealand university \n                                                                                                                                                    1 \n                                                                                                         First Mexican President of indigenous origin \n                                                                                                                                                    2 \n                                                                                               First Mexican to have their art featured in the Louvre \n                                                                                                                                                    1 \n                                                                                                            First modern Icelandic short-story writer \n                                                                                                                                                    1 \n                                                                                                    First modern Tunisian woman to become a physician \n                                                                                                                                                    1 \n                                                          First person appointed Dame Commander of the British Empire for contributions to literature \n                                                                                                                                                    1 \n                                                                                                       First person from Oceania to win a Nobel prize \n                                                                                                                                                    1 \n                                                                                                                    First Premier of Northern Nigeria \n                                                                                                                                                    1 \n                                                                                                         First President and Prime Minister of Malawi \n                                                                                                                                                    1 \n                                                                                                                        First President of Bangladesh \n                                                                                                                                                    9 \n                                                                                                                           First President of Bolivia \n                                                                                                                                                    1 \n                                                                                                                        First President of Cape Verde \n                                                                                                                                                    1 \n                                                                                                              First President of Colombia and Bolivia \n                                                                                                                                                    1 \n                                                                                                                    First President of Czechoslovakia \n                                                                                                                                                    1 \n                                                                                                       First President of Federal Republic of Nigeria \n                                                                                                                                                    1 \n                                                                                                            First President of independent Philipines \n                                                                                                                                                    1 \n                                                                                First president of the Republic of New Granada (present-day Colombia) \n                                                                                                                                                    1 \n                                                                                                              First Prime Minister after independence \n                                                                                                                                                    1 \n                                                                                                                       First Prime Minister of Canada \n                                                                                                                                                    1 \n                                                                                                          First Prime Minister of independent Nigeria \n                                                                                                                                                    1 \n                                                                                                                 First rector of Universidad de Chile \n                                                                                                                                                    1 \n                                                                                                                First Senator of First Nations origin \n                                                                                                                                                    1 \n                                                                  First to promote and write about free and universal elementary schooling in Uruguay \n                                                                                                                                                    1 \n                                                                                First US Postmaster General, First United States Ambassador to France \n                                                                                                                                                    1 \n                                                                                                                                   First US President \n                                                                                                                                                    1 \n                                                                                                                          First US Secretary of State \n                                                                                                                                                    1 \n                                                                                                                   First US Secretary of the Treasury \n                                                                                                                                                    1 \n                                                    First Visayan person to be President of Philipines. First Speaker of the House of Representatives \n                                                                                                                                                    1 \n                                                                               Founded National Council of Women (NCW) and became its first president \n                                                                                                                                                    1 \n                                                                                 Founded Royal Flying Doctor Service, the world's first air ambulance \n                                                                                                                                                    1 \n                                                                                                               Founded Uruguay's first public library \n                                                                                                                                                    1 \n                                                                                                      Founder of Costa Rica's first Montessori school \n                                                                                                                                                    1 \n                                                                                             Founder of Georgia's first regular university in Tbilisi \n                                                                                                                                                    1 \n                                                                   Given the honorary title of \"La Primera Mujer Congresista\" by Adolfo Ruiz Cortines \n                                                                                                                                                    1 \n                                                                                           Japan's first prominent female writer of modern literature \n                                                                                                                                                    1 \n                                                                                                              Member of Serbia's first string quartet \n                                                                                                                                                    1 \n                                                                                              South America's first ever Nobel Laureate in Literature \n                                                                                                                                                    1 \n                                                                                                     The first woman to rule Georgia in her own right \n                                                                                                                                                    1 \n                                                                                  Wrote first lyrics to the national anthem to the Dominican Republic \n                                                                                                                                                    1 \n                                                 Wrote the first Costa Rican General Code which set the foundations for the country's judicial system \n                                                                                                                                                    1 \n                                                                                          Wrote the first dictionary in the reformed Serbian language \n                                                                                                                                                    1 \nWrote the first-ever programming manual, and his programming system was used in the Ferranti Mark I, the first marketable electronic digital computer \n                                                                                                                                                    1 \n\n$has_portrait\n\nfalse  true \n  155   124 \n\n$id\n\n   ARS_Argentino     ARS_Belgrano      ARS_Domingo        ARS_Evita \n               1                1                1                1 \n       ARS_Rosas        AUD_Banjo        AUD_Edith    AUD_Elizabeth \n               1                1                1                7 \n       AUD_Flynn      AUD_Gilmore       AUD_Monash       AUD_Nellie \n               1                1                1                1 \n      AUD_Reibey      AUD_Unaipon       BDT_Rahman        BOB_Alejo \n               1                1                9                1 \n     BOB_Azurduy    BOB_Bartolina      BOB_Bolivar        BOB_Bruno \n               1                1                2                1 \n      BOB_Canoto   BOB_Eustaquino      BOB_Ignacio       BOB_Katari \n               1                1                1                1 \n        BOB_Rios       BOB_Santos        BOB_Sucre         BOB_Tupa \n               1                1                2                1 \n       BOB_Tupac       BOB_Zarate        CAD_Agnes       CAD_Borden \n               1                1                1                1 \n     CAD_Cartier    CAD_Gladstone      CAD_Laurier         CAD_Lyon \n               1                1                1                1 \n   CAD_Macdonald        CAD_Viola       CLP_Andres       CLP_Chacon \n               1                1                1                1 \n     CLP_Erdoyza      CLP_Ignacio      CLP_Mistral      COP_Alfonso \n               1                1                1                1 \n    COP_Asuncion       COP_Debora      COP_Gabriel       COP_Gaitan \n               1                1                1                1 \n    COP_Garavito       COP_Isaacs       COP_Lleras    COP_Policarpa \n               1                1                1                1 \n   COP_Santander     COP_Virginia        CRC_Acuna     CRC_Carrillo \n               1                1                1                1 \n    CRC_Carvajal     CRC_Figueres     CRC_Gonzalez      CRC_Ricardo \n               1                1                1                1 \n     CVE_Barbosa      CVE_Cesaria         CVE_Code     CVE_Henrique \n               1                1                1                1 \n     CVE_Pereira         CZK_Amos       CZK_Bozena      CZK_Charles \n               1                1                1                1 \n         CZK_Ema    CZK_Frantisek     CZK_Garrigue       DOP_Duarte \n               1                1                1                1 \n      DOP_Emilio      DOP_Luperon        DOP_Maria       DOP_Matias \n               1                1                1                1 \n     DOP_Minerva       DOP_Patria      DOP_Rosario       DOP_Rufino \n               1                1                1                1 \n      DOP_Salome        DOP_Urena       GBP_Austen    GBP_Churchill \n               1                1                1                1 \n      GBP_Turing       GBP_Turner        GEL_Akaki        GEL_David \n               1                1                1                1 \n        GEL_Ilia        GEL_Ivane      GEL_Kakutsa         GEL_Niko \n               1                1                1                1 \n       GEL_Shota        GEL_Tamar      GEL_Zakaria      IDR_Djuanda \n               1                1                1                1 \n       IDR_Frans         IDR_GSSJ        IDR_Gusti        IDR_Hatta \n               1                1                1                1 \n       IDR_Husni        IDR_Idham          IDR_Oto       IDR_Prince \n               1                1                1                1 \n    IDR_Soekarno       IDR_Sultan         IDR_Tjut     ILS_Goldberg \n               1                1                1                1 \n      ILS_Nathan       ILS_Rachel        ILS_Shaul ISK_Hallgrimsson \n               1                1                1                1 \n     ISK_Kjarval   ISK_Ragnheiour   ISK_Sigurdsson    ISK_Sveinsson \n               1                1                1                1 \n        JMD_Hugh        JMD_Nanny       JMD_Norman     JMD_Sangster \n               1                1                1                1 \n      JMD_Sharpe       JPY_Hideyo       JPY_Ichiyo      JPY_Yukichi \n               1                1                1                1 \n   KGS_Balasagyn        KGS_Datka      KGS_Osmonov     KGS_Sayakbay \n               1                1                1                1 \n   KGS_Suymonkul      KGS_Togolok     KGS_Toktogul        KRW_Hwang \n               1                1                1                1 \n           KRW_I       KRW_Sejong         KRW_Shin    MWK_Chilembwe \n               1                1                1                2 \n      MWK_Gomani     MWK_Hastings      MWK_Mmbelwa         MWK_Rose \n               1                1                1                1 \n     MWK_Sangala       MXN_Benito        MXN_Frida      MXN_Hermila \n               1                2                1                1 \n     MXN_Hidalgo        MXN_Juana       MXN_Madero      MXN_Morelos \n               1                1                1                1 \n        MXN_Neza       MXN_Rivera       MXN_Serdan        NGN_Aliyu \n               1                1                1                1 \n       NGN_Alvan       NGN_Balewa        NGN_Bello      NGN_Clement \n               1                1                1                1 \n       NGN_Kwali      NGN_Murtala       NGN_Nnamdi      NGN_Obafemi \n               1                1                1                1 \n      NZD_Edmund        NZD_Ngata   NZD_Rutherford     NZD_Sheppard \n               1                1                1                1 \n    PEN_Abelardo      PEN_Basadre       PEN_Granda       PEN_Paulet \n               1                1                1                1 \n       PEN_Pinto         PEN_Raul        PEN_Santa       PGK_Somare \n               1                1                1                1 \n        PHP_Abad      PHP_Benigno      PHP_Corazon     PHP_Diosdado \n               1                1                1                1 \n      PHP_Llanes       PHP_Osmena       PHP_Quezon        PHP_Roxas \n               1                1                1                1 \n     PHP_Vicente          RMB_Mao       RSD_Cvijic        RSD_Dorde \n               1                6                1                1 \n     RSD_Milutin       RSD_Njegos     RSD_Petrovic     RSD_Slobodan \n               1                1                1                1 \n  RSD_Stevanovic        RSD_Tesla          RSD_Vuk          SEK_Dag \n               1                1                1                1 \n       SEK_Evert        SEK_Greta       SEK_Ingmar     SEK_Lindgren \n               1                1                1                1 \n     SEK_Nilsson          STD_Rei     STD_Tenreiro       TND_Chebbi \n               1                7                1                1 \n      TND_Farhat     TND_Hannibal      TND_Tewhida          TRY_Arf \n               1                1                1                1 \n     TRY_Ataturk        TRY_Fatma         TRY_Itri   TRY_Kemaleddin \n               6                1                1                1 \n      TRY_Sayili        TRY_Yunus       UAH_Bogdon       UAH_Franko \n               1                1                1                1 \n       UAH_Great       UAH_Mazepa     UAH_Mykhailo    UAH_Skovoroda \n               1                1                1                1 \n       UAH_Taras     UAH_Ukrainka   UAH_Vernadskyi     UAH_Yaroslav \n               1                1                1                1 \n    USD_Franklin     USD_Hamilton      USD_Jackson    USD_Jefferson \n               1                1                1                1 \n     USD_Lincoln      USD_Ulysses   USD_Washington      UYU_Eduardo \n               1                1                1                1 \n      UYU_Figari   UYU_Ibarbourou    UYU_Larranaga       UYU_Varela \n               1                1                1                1 \n     UYU_Vasquez     UYU_Zorrilla       VES_Camejo     VES_Ezequiel \n               1                1                1                1 \n     VES_Miranda       VES_Rajael        VES_Ribas    VES_Rodrigues \n               1                1                1                1 \n     ZAR_Mandela \n               5 \n\n\nWe use lapply rather than sapply for this step because the table for each column will have a different length (but try sapply and see what happens!).\n\n\n3.4.2 The Split-Apply Pattern\nIn a data set with categorical features, it’s often useful to compute something for each category. The lapply and sapply functions can compute something for each element of a data structure, but categories are not necessarily elements.\nFor example, the banknotes data set has 38 different categories in the country column. If we want all of the rows for one country, one way to get them is by indexing:\n\nusa = banknotes[banknotes$country == \"United States\", ]\nhead(usa)\n\n    currency_code       country currency_name              name gender\n253           USD United States     US dollar  Ulysses S. Grant      M\n254           USD United States     US dollar  Thomas Jefferson      M\n255           USD United States     US dollar   Abraham Lincoln      M\n256           USD United States     US dollar George Washington      M\n257           USD United States     US dollar    Andrew Jackson      M\n258           USD United States     US dollar Benjamin Franklin      M\n    bill_count    profession known_for_being_first current_bill_value\n253          1 Head of Gov't                    No                 50\n254          1       Founder                   Yes                  2\n255          1 Head of Gov't                    No                  5\n256          1       Founder                   Yes                  1\n257          1 Head of Gov't                    No                 20\n258          1       Founder                   Yes                100\n    prop_total_bills first_appearance_year death_year\n253             0.05                  1913       1885\n254             0.03                  1869       1826\n255             0.06                  1914       1865\n256             0.26                  1869       1799\n257             0.23                  1928       1845\n258             0.33                  1914       1790\n                                                                                    comments\n253                                                                                         \n254                                                                1st US secretary of state\n255                                                                                         \n256                                                                     1st president of USA\n257                                                                                         \n258 first United States Postmaster General, first United States Ambassador to France, etc...\n                                                               hover_text\n253                                                                      \n254                                           First US Secretary of State\n255                                                                      \n256                                                    First US President\n257                                                                      \n258 First US Postmaster General, First United States Ambassador to France\n    has_portrait             id scaled_bill_value\n253         true    USD_Ulysses        0.49494949\n254         true  USD_Jefferson        0.01010101\n255         true    USD_Lincoln        0.04040404\n256         true USD_Washington        0.00000000\n257        false    USD_Jackson        0.19191919\n258         true   USD_Franklin        1.00000000\n\n\nTo get all 38 countries separately, we’d have to do this 38 times. If we want to compute something for each country, say the mean of the first_appearance_year column, we also have to repeat that computation 38 times. Here’s what it would look like for just the United States:\n\nmean(usa$first_appearance_year)\n\n[1] 1905.143\n\n\nIf the categories were elements, we could avoid writing code to index each category, and just use the sapply (or lapply) function to apply the mean function to each.\nThe split function splits a vector or data frame into groups based on a vector of categories. The first argument to split is the data, and the second argument is a congruent vector of categories.\nWe can use split to elegantly compute means of first_appearance_year broken down by country. First, we split the data by country. Since we only want to compute on the first_appearance_year column, we only split that column:\n\nby_country = split(banknotes$first_appearance_year, banknotes$country)\nclass(by_country)\n\n[1] \"list\"\n\nnames(by_country)\n\n [1] \"Argentina\"             \"Australia\"             \"Bangladesh\"           \n [4] \"Bolivia\"               \"Canada\"                \"Cape Verde\"           \n [7] \"Chile\"                 \"China\"                 \"Colombia\"             \n[10] \"Costa Rica\"            \"Czech Republic\"        \"Dominican Republic\"   \n[13] \"England\"               \"Georgia\"               \"Iceland\"              \n[16] \"Indonesia\"             \"Israel\"                \"Jamaica\"              \n[19] \"Japan\"                 \"Kyrgyzstan\"            \"Malawi\"               \n[22] \"Mexico\"                \"New Zealand\"           \"Nigeria\"              \n[25] \"Papua New Guinea\"      \"Peru\"                  \"Philippines\"          \n[28] \"São Tomé and Príncipe\" \"Serbia\"                \"South Africa\"         \n[31] \"South Korea\"           \"Sweden\"                \"Tunisia\"              \n[34] \"Turkey\"                \"Ukraine\"               \"United States\"        \n[37] \"Uruguay\"               \"Venezuela\"            \n\n\nThe result from split is a list with one element for each category. The individual elements contain pieces of the original first_appearance_year column:\n\nhead(by_country$Mexico)\n\n[1] 2010 2010 1979 2020 2020 1973\n\n\nSince the categories are elements in the split data, now we can use sapply the same way we did in previous examples:\n\nsapply(by_country, mean)\n\n            Argentina             Australia            Bangladesh \n             1992.200              1990.778              1972.000 \n              Bolivia                Canada            Cape Verde \n             2010.667              1983.778              2014.000 \n                Chile                 China              Colombia \n             1988.600              1980.000              2001.727 \n           Costa Rica        Czech Republic    Dominican Republic \n             2002.667              1993.500              1991.545 \n              England               Georgia               Iceland \n             1994.000              1997.222              1991.800 \n            Indonesia                Israel               Jamaica \n             2004.750              2015.750              1989.000 \n                Japan            Kyrgyzstan                Malawi \n             1997.333              1998.714              2001.857 \n               Mexico           New Zealand               Nigeria \n             1988.545              1987.000              1994.667 \n     Papua New Guinea                  Peru           Philippines \n             1989.000              2000.143              1982.111 \nSão Tomé and Príncipe                Serbia          South Africa \n             1981.500              2005.111              2012.000 \n          South Korea                Sweden               Tunisia \n             1982.250              2015.167              2015.750 \n               Turkey               Ukraine         United States \n             1968.000              1997.000              1905.143 \n              Uruguay             Venezuela \n             1998.429              1991.500 \n\n\nThis two-step process is an R idiom called the split-apply pattern. First you use split to convert categories into list elements, then you use an apply function to compute something on each category. Any time you want to compute results by category, you should think of this pattern.\nThe split-apply pattern is so useful that R provides the tapply function as a shortcut. The tapply function is equivalent to calling split and then sapply. Like split, the first argument is the data and the second argument is a congruent vector of categories. The third argument is a function to apply, like the function argument in sapply.\nWe can use tapply to compute the first_appearance_year means by country for the banknotes data set:\n\ntapply(banknotes$first_appearance_year, banknotes$country, mean)\n\n            Argentina             Australia            Bangladesh \n             1992.200              1990.778              1972.000 \n              Bolivia                Canada            Cape Verde \n             2010.667              1983.778              2014.000 \n                Chile                 China              Colombia \n             1988.600              1980.000              2001.727 \n           Costa Rica        Czech Republic    Dominican Republic \n             2002.667              1993.500              1991.545 \n              England               Georgia               Iceland \n             1994.000              1997.222              1991.800 \n            Indonesia                Israel               Jamaica \n             2004.750              2015.750              1989.000 \n                Japan            Kyrgyzstan                Malawi \n             1997.333              1998.714              2001.857 \n               Mexico           New Zealand               Nigeria \n             1988.545              1987.000              1994.667 \n     Papua New Guinea                  Peru           Philippines \n             1989.000              2000.143              1982.111 \nSão Tomé and Príncipe                Serbia          South Africa \n             1981.500              2005.111              2012.000 \n          South Korea                Sweden               Tunisia \n             1982.250              2015.167              2015.750 \n               Turkey               Ukraine         United States \n             1968.000              1997.000              1905.143 \n              Uruguay             Venezuela \n             1998.429              1991.500 \n\n\nNotice that the result is identical to the one we computed before.\nThe “t” in tapply stands for “table”, because the tapply function is a generalization of the table function. If you use length as the third argument to tapply, you get the same results as you would from using the table function on the category vector.\nThe aggregate function is closely related to tapply. It computes the same results, but organizes them into a data frame with one row for each category. In some cases, this format is more convenient. The arguments are the same, except that the second argument must be a list or data frame rather than a vector.\nAs an example, here’s the result of using aggregate to compute the first_appearance_year means:\n\naggregate(banknotes$first_appearance_year, list(banknotes$country), mean)\n\n                 Group.1        x\n1              Argentina 1992.200\n2              Australia 1990.778\n3             Bangladesh 1972.000\n4                Bolivia 2010.667\n5                 Canada 1983.778\n6             Cape Verde 2014.000\n7                  Chile 1988.600\n8                  China 1980.000\n9               Colombia 2001.727\n10            Costa Rica 2002.667\n11        Czech Republic 1993.500\n12    Dominican Republic 1991.545\n13               England 1994.000\n14               Georgia 1997.222\n15               Iceland 1991.800\n16             Indonesia 2004.750\n17                Israel 2015.750\n18               Jamaica 1989.000\n19                 Japan 1997.333\n20            Kyrgyzstan 1998.714\n21                Malawi 2001.857\n22                Mexico 1988.545\n23           New Zealand 1987.000\n24               Nigeria 1994.667\n25      Papua New Guinea 1989.000\n26                  Peru 2000.143\n27           Philippines 1982.111\n28 São Tomé and Príncipe 1981.500\n29                Serbia 2005.111\n30          South Africa 2012.000\n31           South Korea 1982.250\n32                Sweden 2015.167\n33               Tunisia 2015.750\n34                Turkey 1968.000\n35               Ukraine 1997.000\n36         United States 1905.143\n37               Uruguay 1998.429\n38             Venezuela 1991.500\n\n\nThe lapply, sapply, and tapply functions are the three most important functions in the family of apply functions, but there are many more. You can learn more about all of R’s apply functions by reading this StackOverflow post.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Exploring Data</span>"
    ]
  },
  {
    "objectID": "chapters/03_exploring-data.html#exercises",
    "href": "chapters/03_exploring-data.html#exercises",
    "title": "3  Exploring Data",
    "section": "3.5 Exercises",
    "text": "3.5 Exercises\n\n3.5.1 Exercise\nCompute the number of banknotes that feature a person who died before 1900.\n\n\n3.5.2 Exercise\nCompute the range of first_appearance_year for each country.\n\n\n3.5.3 Exercise\n\nCompute the set of banknotes with people who died in this century.\nHint: be careful of missing values in the death_year column!\n\n\nis21 = !is.na(banknotes$death_year) & banknotes$death_year &gt;= 2000\npeople21 = banknotes[is21, ]\n\n\nUse ggplot2’s geom_segment function to create a plot which shows the timespan between death year and first appearance as a horizontal segment, for each banknote in the result from step 1. Put the name of each person on the y-axis. Color code the segments by gender.\nHint: You can make the plot more visually appealing if you first sort the data by death year. You can use the order function to get indexes that will sort the rows of a data frame according to some column.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Exploring Data</span>"
    ]
  },
  {
    "objectID": "chapters/04_organizing_code.html",
    "href": "chapters/04_organizing_code.html",
    "title": "4  Organizing Code",
    "section": "",
    "text": "4.1 Conditional Expressions\nBy now, you’ve learned all of the basic skills necessary to explore a data set in R. The focus of this chapter is how to organize your code so that it’s concise, clear, and easy to automate. This will help you and your collaborators avoid tedious, redundant work, reproduce results efficiently, and run code in specialized environments for scientific computing, such as high-performance computing clusters.\nSometimes you’ll need code to do different things, depending on a condition. If-expressions provide a way to write conditional code.\nFor example, suppose we want to greet one person differently from the others:\nname = \"Nick\"\nif (name == \"Nick\") {\n   # If name is Nick:\n   message(\"We went down the TRUE branch\")\n   msg = \"Hi Nick, nice to see you again!\"\n} else {\n   # Anything else:\n   msg = \"Nice to meet you!\"\n}\n\nWe went down the TRUE branch\nIndent code inside of the if-expression by 2 or 4 spaces. Indentation makes your code easier to read.\nThe condition in an if-expression has to be a scalar:\nname = c(\"Nick\", \"Susan\")\nif (name == \"Nick\") {\n   msg = \"Hi Nick!\"\n} else {\n   msg = \"Nice to meet you!\"\n}\n\nError in if (name == \"Nick\") {: the condition has length &gt; 1\nYou can chain together if-expressions:\nname = \"Susan\"\nif (name == \"Nick\") {\n   msg = \"Hi Nick, nice to see you again!\"\n} else if (name == \"Peter\") {\n   msg = \"Go away Peter, I'm busy!\"\n} else {\n   msg = \"Nice to meet you!\"\n}\nmsg\n\n[1] \"Nice to meet you!\"\nIf-expressions return the value of the last expression in the evaluated block:\nname = \"Tom\"\nmsg = if (name == \"Nick\") {\n   \"Hi Nick, nice to see you again!\"\n} else {\n   \"Nice to meet you!\"\n}\nmsg\n\n[1] \"Nice to meet you!\"\nCurly braces { } are optional for single-line expressions:\nname = \"Nick\"\nmsg = if (name == \"Nick\") \"Hi Nick, nice to see you again!\" else\n   \"Nice to meet you!\"\nmsg\n\n[1] \"Hi Nick, nice to see you again!\"\nBut you have to be careful if you don’t use them:\n# NO GOOD:\nmsg = if (name == \"Nick\")\n   \"Hi Nick, nice to see you again!\"\nelse\n   \"Nice to meet you!\"\n\nError: &lt;text&gt;:4:1: unexpected 'else'\n3:    \"Hi Nick, nice to see you again!\"\n4: else\n   ^\nThe else block is optional:\nmsg = \"Hi\"\nname = \"Tom\"\nif (name == \"Nick\")\n   msg = \"Hi Nick, nice to see you again!\"\nmsg\n\n[1] \"Hi\"\nWhen there’s no else block, the value of the else block is NULL:\nname = \"Tom\"\nmsg = if (name == \"Nick\")\n   \"Hi Nick, nice to see you again!\"\nmsg\n\nNULL",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Organizing Code</span>"
    ]
  },
  {
    "objectID": "chapters/04_organizing_code.html#functions",
    "href": "chapters/04_organizing_code.html#functions",
    "title": "4  Organizing Code",
    "section": "4.2 Functions",
    "text": "4.2 Functions\nThe main way to interact with R is by calling functions, which was first explained way back in Section 1.2.4. Since then, you’ve learned how to use many of R’s built-in functions. This section explains how you can write your own functions.\nTo start, let’s briefly review what functions are, and some of the jargon associated with them. It’s useful to think of functions as factories: raw materials (inputs) go in, products (outputs) come out. We can also represent this visually:\n\nProgrammers use several specific terms to describe the parts and usage of functions:\n\nParameters are placeholder variables for inputs.\n\nArguments are the actual values assigned to the parameters in a call.\n\nThe return value is the output.\nThe body is the code inside.\nCalling a function means using a function to compute something.\n\nAlmost every command in R is a function, even the arithmetic operators and the parentheses! You can view the body of a function by typing its name without trailing parentheses (in contrast to how you call functions). The body of a function is usually surrounded by curly braces {}, although they’re optional if the body only contains one line of code. Indenting code inside of curly braces by 2-4 spaces also helps make it visually distinct from other code.\nFor example, let’s look at the body of the append function, which appends a value to the end of a list or vector:\n\nappend\n\nfunction (x, values, after = length(x)) \n{\n    lengx &lt;- length(x)\n    if (!after) \n        c(values, x)\n    else if (after &gt;= lengx) \n        c(x, values)\n    else c(x[1L:after], values, x[(after + 1L):lengx])\n}\n&lt;bytecode: 0x5e37d4ff6588&gt;\n&lt;environment: namespace:base&gt;\n\n\nDon’t worry if you can’t understand everything the append function’s code does yet. It will make more sense later on, after you’ve written a few functions of your own.\nMany of R’s built-in functions are not entirely written in R code. You can spot these by calls to the special .Primitive or .Internal functions in their code.\nFor instance, the sum function is not written in R code:\n\nsum\n\nfunction (..., na.rm = FALSE)  .Primitive(\"sum\")\n\n\nThe function keyword creates a new function. Here’s the syntax:\nfunction(parameter1, parameter2, ...) {\n  # Your code goes here\n\n  # The result goes here\n}\nA function can have any number of parameters, and will automatically return the value of the last line of its body.\nA function is a value, and like any other value, if you want to reuse it, you need to assign it to variable. Choosing descriptive variable names is a good habit. For functions, that means choosing a name that describes what the function does. It often makes sense to use verbs in function names.\nLet’s write a function that gets the largest values in a vector. The inputs or arguments to the function will be the vector in question and also the number of values to get. Let’s call these vec and n, respectively. The result will be a vector of the n largest elements. Here’s one way to write the function:\n\nget_largest = function(vec, n) {\n  sorted = sort(vec, decreasing = TRUE)\n  head(sorted, n)\n}\n\nThe name of the function, get_largest, describes what the function does and includes a verb. If this function will be used frequently, a shorter name, such as largest, might be preferable (compare to the head function).\nAny time you write a function, the first thing you should do afterwards is test that it actually works. Let’s try the get_largest function on a few test cases:\n\nx = c(1, 10, 20, -3)\nget_largest(x, 2)\n\n[1] 20 10\n\nget_largest(x, 3)\n\n[1] 20 10  1\n\ny = c(-1, -2, -3)\nget_largest(y, 2)\n\n[1] -1 -2\n\nz = c(\"d\", \"a\", \"t\", \"a\", \"l\", \"a\", \"b\")\nget_largest(z, 3)\n\n[1] \"t\" \"l\" \"d\"\n\n\nNotice that the parameters vec and n inside the function do not exist as variables outside of the function:\n\nvec\n\nError in eval(expr, envir, enclos): object 'vec' not found\n\n\nIn general, R keeps parameters and variables you define inside of a function separate from variables you define outside of a function. You can read more about the specific rules for how R searches for variables in DataLab’s Intermediate R reader.\nAs a function for quickly summarizing data, get_largest would be more convenient if the parameter n for the number of values to return was optional (again, compare to the head function). You can make the parameter n optional by setting a default argument: an argument assigned to the parameter if no argument is assigned in the call to the function. You can use = to assign default arguments to parameters when you define a function with the function keyword. Here’s a new definition of the function with the default n = 5:\n\nget_largest = function(vec, n = 5) {\n  sorted = sort(vec, decreasing = TRUE)\n  head(sorted, n)\n}\n\nAfter making this change, it’s a good idea to test the function again:\n\nget_largest(x)\n\n[1] 20 10  1 -3\n\nget_largest(y)\n\n[1] -1 -2 -3\n\nget_largest(z)\n\n[1] \"t\" \"l\" \"d\" \"b\" \"a\"\n\n\n\n4.2.1 Returning Values\nWe’ve already seen that a function will automatically return the value of its last line.\nThe return keyword causes a function to return a result immediately, without running any subsequent code in its body. It only makes sense to use return from inside of an if-expression. If your function doesn’t have any if-expressions, you don’t need to use return.\nFor example, suppose you want the get_largest function to immediately return NULL if the argument for vec is a list. Here’s the code, along with some test cases:\n\nget_largest = function(vec, n = 5) {\n  if (is.list(vec))\n    return(NULL)\n\n  sorted = sort(vec, decreasing = TRUE)\n  head(sorted, n)\n}\n\nget_largest(x)\n\n[1] 20 10  1 -3\n\nget_largest(z)\n\n[1] \"t\" \"l\" \"d\" \"b\" \"a\"\n\nget_largest(list(1, 2))\n\nNULL\n\n\nAlternatively, you could make the function raise an error by calling the stop function. Whether it makes more sense to return NULL or print an error depends on how you plan to use the get_largest function.\nNotice that the last line of the get_largest function still doesn’t use the return keyword. It’s idiomatic to only use return when strictly necessary.\nA function returns one R object, but sometimes computations have multiple results. In that case, return the results in a vector, list, or other data structure.\nFor example, let’s make a function that computes the mean and median for a vector. We’ll return the results in a named list, although we could also use a named vector:\n\ncompute_mean_med = function(x) {\n  m1 = mean(x)\n  m2 = median(x)\n  list(mean = m1, median = m2)\n}\ncompute_mean_med(c(1, 2, 3, 1))\n\n$mean\n[1] 1.75\n\n$median\n[1] 1.5\n\n\nThe names make the result easier to understand for the caller of the function, although they certainly aren’t required here.\n\n\n4.2.2 Planning Your Functions\nBefore you write a function, it’s useful to go through several steps:\n\nWrite down what you want to do, in detail. It can also help to draw a picture of what needs to happen.\nCheck whether there’s already a built-in function. Search online and in the R documentation.\nWrite the code to handle a simple case first. For data science problems, use a small dataset at this step.\n\nLet’s apply this in one final example: a function that detects leap years. A year is a leap year if either of these conditions is true:\n\nIt is divisible by 4 and not 100\nIt is divisible by 400\n\nThat means the years 2004 and 2000 are leap years, but the year 2200 is not. Here’s the code and a few test cases:\n\n# If year is divisible by 4 and not 100 -&gt; leap\n# If year is divisible by 400 -&gt; leap\nyear = 2004\nis_leap = function(year) {\n  if (year %% 4 == 0 & year %% 100 != 0) {\n    leap = TRUE\n  } else if (year %% 400 == 0) {\n    leap = TRUE\n  } else {\n    leap = FALSE\n  }\n  leap\n}\nis_leap(400)\n\n[1] TRUE\n\nis_leap(1997)\n\n[1] FALSE\n\n\nFunctions are the building blocks for solving larger problems. Take a divide-and-conquer approach, breaking large problems into smaller steps. Use a short function for each step. This approach makes it easier to:\n\nTest that each step works correctly.\nModify, reuse, or repurpose a step.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Organizing Code</span>"
    ]
  },
  {
    "objectID": "chapters/04_organizing_code.html#exercises",
    "href": "chapters/04_organizing_code.html#exercises",
    "title": "4  Organizing Code",
    "section": "4.3 Exercises",
    "text": "4.3 Exercises\nThese exercises are meant to challenge you, so they’re quite difficult compared to the previous ones. Don’t get disheartened, and if you’re able to complete them, excellent work!\n\n4.3.1 Exercise\nCreate a function compute_day which uses the Doomsday algorithm to compute the day of week for any given date in the 1900s. The function’s parameters should be year, month, and day. The function’s return value should be a day of week, as a string (for example, \"Saturday\").\nHint: the modulo operator is %% in R.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Organizing Code</span>"
    ]
  },
  {
    "objectID": "chapters/05_appendix.html",
    "href": "chapters/05_appendix.html",
    "title": "5  Appendix",
    "section": "",
    "text": "5.1 More About Comparisons",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Appendix</span>"
    ]
  },
  {
    "objectID": "chapters/05_appendix.html#sec-more-about-comparisons",
    "href": "chapters/05_appendix.html#sec-more-about-comparisons",
    "title": "5  Appendix",
    "section": "",
    "text": "5.1.1 Equality\nThe == operator is the primary way to test whether two values are equal, as explained in Section 1.2.3. Nonetheless, equality can be defined in many different ways, especially when dealing with computers. As a result, R also provides several different functions to test for different kinds of equality. This describes tests of equality in more detail, and also describes some other important details of comparisons.\n\n5.1.1.1 The == Operator\nThe == operator tests whether its two arguments have the exact same representation as a binary number in your computer’s memory. Before testing the arguments, the operator applies R’s rules for vectorization (Section 2.1.3), recycling (Section 2.1.4), and implicit coercion (Section 2.2.2). Until you’ve fully internalized these three rules, some results from the equality operator may seem surprising. For example:\n\n# Recycling:\nc(1, 2) == c(1, 2, 1, 2)\n\n[1] TRUE TRUE TRUE TRUE\n\n# Implicit coercion:\nTRUE == 1\n\n[1] TRUE\n\nTRUE == \"TRUE\"\n\n[1] TRUE\n\n1 == \"TRUE\"\n\n[1] FALSE\n\n\nThe length of the result from the equality operator is usually the same as its longest argument (with some exceptions).\n\n\n5.1.1.2 The all.equal Function\nThe all.equal function tests whether its two arguments are equal up to some acceptable difference called a tolerance. Computer representations for decimal numbers are inherently imprecise, so it’s necessary to allow for very small differences between computed numbers. For example:\n\nx = 0.5 - 0.3\ny = 0.3 - 0.1\n\n# FALSE on most machines:\nx == y\n\n[1] FALSE\n\n# TRUE:\nall.equal(x, y)\n\n[1] TRUE\n\n\nThe all.equal function does not apply R’s rules for vectorization, recycling, or implicit coercion. The function returns TRUE when the arguments are equal, and returns a string summarizing the differences when they are not. For instance:\n\nall.equal(1, c(1, 2, 1))\n\n[1] \"Numeric: lengths (1, 3) differ\"\n\n\nThe all.equal function is often used together with the isTRUE function, which tests whether the result is TRUE:\n\nall.equal(3, 4)\n\n[1] \"Mean relative difference: 0.3333333\"\n\nisTRUE(all.equal(3, 4))\n\n[1] FALSE\n\n\nYou should generally use the all.equal function when you want to compare decimal numbers.\n\n\n5.1.1.3 The identical Function\nThe identical function checks whether its arguments are completely identical, including their metadata (names, dimensions, and so on). For instance:\n\nx = list(a = 1)\ny = list(a = 1)\nz = list(1)\n\nidentical(x, y)\n\n[1] TRUE\n\nidentical(x, z)\n\n[1] FALSE\n\n\nThe identical function does not apply R’s rules for vectorization, recycling, or implicit coercion. The result is always a single logical value.\nYou’ll generally use the identical function to compare non-vector objects such as lists or data frames. The function also works for vectors, but most of the time the equality operator == is sufficient.\n\n\n\n5.1.2 The %in% Operator\nAnother common comparison is to check whether elements of one vector are contained in another vector at any position. For instance, suppose you want to check whether 1 or 2 appear anywhere in a longer vector x. Here’s how to do it:\n\nx = c(3, 4, 2, 7, 3, 7)\nc(1, 2) %in% x\n\n[1] FALSE  TRUE\n\n\nR returns FALSE for the 1 because there’s no 1 in x, and returns TRUE for the 2 because there is a 2 in x.\nNotice that this is different from comparing with the equality operator ==. If you use use the equality operator, the shorter vector is recycled until its length matches the longer one, and then compared element-by-element. For the example, this means only the elements at odd-numbered positions are compared to 1, and only the elements at even-numbered positions are compared to 2:\n\nc(1, 2) == x\n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE\n\n\n\n\n5.1.3 Summarizing Comparisons\nThe comparison operators are vectorized, so they compare their arguments element-by-element:\n\nc(1, 2, 3) &lt; c(1, 3, -3)\n\n[1] FALSE  TRUE FALSE\n\nc(\"he\", \"saw\", \"her\") == c(\"she\", \"saw\", \"him\")\n\n[1] FALSE  TRUE FALSE\n\n\nWhat if you want to summarize whether all the elements in a vector are equal (or unequal)? You can use the all function on any logical vector to get a summary. The all function takes a vector of logical values and returns TRUE if all of them are TRUE, and returns FALSE otherwise:\n\nall(c(1, 2, 3) &lt; c(1, 3, -3))\n\n[1] FALSE\n\n\nThe related any function returns TRUE if any one element is TRUE, and returns FALSE otherwise:\n\nany(c(\"hi\", \"hello\") == c(\"hi\", \"bye\"))\n\n[1] TRUE\n\n\n\n\n5.1.4 Other Pitfalls\nNew programmers sometimes incorrectly think they need to append == TRUE to their comparisons. This is redundant, makes your code harder to understand, and wastes computational time. Comparisons already return logical values. If the result of the comparison is TRUE, then TRUE == TRUE is again just TRUE. If the result is FALSE, then FALSE == TRUE is again just FALSE. Likewise, if you want to invert a condition, choose an appropriate operator rather than appending == FALSE.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Appendix</span>"
    ]
  },
  {
    "objectID": "chapters/05_appendix.html#sec-the-drop-parameter",
    "href": "chapters/05_appendix.html#sec-the-drop-parameter",
    "title": "5  Appendix",
    "section": "5.2 The drop Parameter",
    "text": "5.2 The drop Parameter\nIf you use two-dimensional indexing with [ to select exactly one column, you get a vector:\n\nresult = banknotes[1:3, 2]\nclass(result)\n\n[1] \"character\"\n\n\nThe container is dropped, even though the indexing operator [ usually keeps containers. This also occurs for matrices. You can control this behavior with the drop parameter:\n\nresult = banknotes[1:3, 2, drop = FALSE]\nclass(result)\n\n[1] \"data.frame\"\n\n\nThe default is drop = TRUE.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Appendix</span>"
    ]
  },
  {
    "objectID": "chapters/97_where-to-learn-more.html",
    "href": "chapters/97_where-to-learn-more.html",
    "title": "Where to Learn More",
    "section": "",
    "text": "This reader provides an introduction to the basics of R, but there’s lots more to learn!\nDataLab’s Intermediate R workshops are designed specifically for learners who have taken this workshop and want to learn more about R.\nDataLab also teaches many other workshops about data science. If you’re not sure where to start or how these workshops all fit together, take a look at our Reproducibility Principles and Practices reader.\nIf you want to learn more about how to design clear and effective data visualizations, take a look at our Principles of Data Visualization reader.\nMany R and data science learning resources are available for free online or through the library. Here are a few books created by others that we’ve found useful:\n\nR for Data Science by Wickham & Grolemund. An introduction to using R for data science, but with a very heavy focus on Tidyverse packages.\nThe Art of R Programming by Matloff. A general reference on R programming.\nAdvanced R by Wickham. A description of how R works at a deeper level, with many examples of R features that are important for package/software development.\nThe R Inferno by Burns. A discussion of the most difficult and confusing parts of R.\n\nFinally, here are some websites popular in the R community:\n\nR Graph Gallery. Examples of graphs you can make in R, with code.\nRStudio Cheat Sheets. Cheat sheets for a variety of R tools and packages.\nR Weekly. Weekly updates about what’s happening in the R community.\nR-bloggers. An aggregator for blog posts about R.",
    "crumbs": [
      "Where to Learn More"
    ]
  },
  {
    "objectID": "chapters/98_acknowledgements.html",
    "href": "chapters/98_acknowledgements.html",
    "title": "Acknowledgements",
    "section": "",
    "text": "Nick’s Acknowledgements\nSincere thanks to the rest of the DataLab team, for support and many thoughtful discussions about data science!\nSincere thanks to:\nDuncan Temple Lang, whose guidance and encouragement has had outsize influence on the way I think about and teach data science.\nDeb Nolan, for being a role model as a data scientist, educator, and academic. Special thanks for the opportunity to collaborate on STAT 33 (on which this reader and workshop is loosely based) at Cal.\nLast but not least, every former student that asked questions or offered feedback when I taught.",
    "crumbs": [
      "Acknowledgements"
    ]
  },
  {
    "objectID": "chapters/99_assessment.html",
    "href": "chapters/99_assessment.html",
    "title": "Assessment",
    "section": "",
    "text": "If you are taking this workshop to complete a GradPathways Pathway, you can download the assessment instructions here.",
    "crumbs": [
      "Assessment"
    ]
  }
]